import{d as e,B as t,r as o,aR as n,cs as a,$ as i,bf as u,cf as l,P as s,o as r,c as d,e as v,a2 as f,n as c,a4 as p}from"./index.63ad27ed.js";const g=v("div",null,"sticky",-1),m=e({__name:"Sticky",props:{offset:t.number.def(0),zIndex:t.number.def(999),className:t.string.def(""),position:{type:String,validator:function(e){return-1!==["top","bottom"].indexOf(e)},default:"top"}},setup(e){const t=e,m=o("auto"),x=o("auto"),y=o(!1),h=n(),w=n(),{height:C}=a();i((()=>{var e;x.value=(null==(e=h.value)?void 0:e.getBoundingClientRect().height)+"px",w.value=z(h.value,!0),u(w,"scroll",B),u("resize",R),B()})),l((()=>{B()}));const b=(e,t)=>{if(!s)return!1;const o=((e,t)=>{var o;if(!s||!e||!t)return"";t.replace(/-(\w)/g,((e,t)=>t?t.toUpperCase():""));try{const n=e.style[t];if(n)return n;const a=null==(o=document.defaultView)?void 0:o.getComputedStyle(e,"");return a?a[t]:""}catch{return e.style[t]}})(e,{undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)]);return["scroll","auto","overlay"].some((e=>o.includes(e)))},z=(e,t)=>{if(!s)return;let o=e;for(;o;){if([window,document,document.documentElement].includes(o))return window;if(b(o,t))return o;o=o.parentNode}return o},B=()=>{var e,o;if(m.value=h.value.getBoundingClientRect().width+"px","top"===t.position){const o=null==(e=h.value)?void 0:e.getBoundingClientRect().top;if(void 0!==o&&o<t.offset)return void I();S()}else{const e=null==(o=h.value)?void 0:o.getBoundingClientRect().bottom;if(void 0!==e&&e>C.value-t.offset)return void I();S()}},R=()=>{y.value&&h.value&&(m.value=h.value.getBoundingClientRect().width+"px")},I=()=>{y.value||(y.value=!0)},S=()=>{y.value&&(m.value="auto",y.value=!1)};return(t,o)=>(r(),d("div",{style:p({height:x.value,zIndex:e.zIndex}),ref_key:"refSticky",ref:h},[v("div",{class:c(e.className),style:p({top:"top"===e.position?e.offset+"px":"",bottom:"top"!==e.position?e.offset+"px":"",zIndex:e.zIndex,position:y.value?"fixed":"static",width:m.value,height:x.value})},[f(t.$slots,"default",{},(()=>[g]))],6)],4))}});export{m as _};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3RpY2t5LjlkMzI2NGIyLmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvY29tcG9uZW50cy9TdGlja3kvc3JjL1N0aWNreS52dWUiXSwic291cmNlc0NvbnRlbnQiOlsiPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cclxuaW1wb3J0IHsgcHJvcFR5cGVzIH0gZnJvbSAnQC91dGlscy9wcm9wVHlwZXMnXHJcbmltcG9ydCB7IHJlZiwgb25Nb3VudGVkLCBvbkFjdGl2YXRlZCwgc2hhbGxvd1JlZiB9IGZyb20gJ3Z1ZSdcclxuaW1wb3J0IHsgdXNlRXZlbnRMaXN0ZW5lciwgdXNlV2luZG93U2l6ZSwgaXNDbGllbnQgfSBmcm9tICdAdnVldXNlL2NvcmUnXHJcbmltcG9ydCB0eXBlIHsgQ1NTUHJvcGVydGllcyB9IGZyb20gJ3Z1ZSdcclxuY29uc3QgcHJvcHMgPSBkZWZpbmVQcm9wcyh7XHJcbiAgLy8g6Led56a76aG26YOo5oiW6ICF5bqV6YOo55qE6Led56a7KOWNleS9jXB4KVxyXG4gIG9mZnNldDogcHJvcFR5cGVzLm51bWJlci5kZWYoMCksXHJcbiAgLy8g6K6+572u5YWD57Sg55qE5aCG5Y+g6aG65bqPXHJcbiAgekluZGV4OiBwcm9wVHlwZXMubnVtYmVyLmRlZig5OTkpLFxyXG4gIC8vIOiuvue9ruaMh+WumueahGNsYXNzXHJcbiAgY2xhc3NOYW1lOiBwcm9wVHlwZXMuc3RyaW5nLmRlZignJyksXHJcbiAgLy8g5a6a5L2N5pa55byP77yM6buY6K6k5Li6KHRvcCnvvIzooajnpLrot53nprvpobbpg6jkvY3nva7vvIzlj6/ku6Xorr7nva7kuLp0b3DmiJbogIVib3R0b21cclxuICBwb3NpdGlvbjoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAodmFsdWU6IHN0cmluZykge1xyXG4gICAgICByZXR1cm4gWyd0b3AnLCAnYm90dG9tJ10uaW5kZXhPZih2YWx1ZSkgIT09IC0xXHJcbiAgICB9LFxyXG4gICAgZGVmYXVsdDogJ3RvcCdcclxuICB9XHJcbn0pXHJcbmNvbnN0IHdpZHRoID0gcmVmKCdhdXRvJyBhcyBzdHJpbmcpXHJcbmNvbnN0IGhlaWdodCA9IHJlZignYXV0bycgYXMgc3RyaW5nKVxyXG5jb25zdCBpc1N0aWNreSA9IHJlZihmYWxzZSlcclxuY29uc3QgcmVmU3RpY2t5ID0gc2hhbGxvd1JlZjxIVE1MRWxlbWVudD4oKVxyXG5jb25zdCBzY3JvbGxDb250YWluZXIgPSBzaGFsbG93UmVmPEhUTUxFbGVtZW50IHwgV2luZG93PigpXHJcbmNvbnN0IHsgaGVpZ2h0OiB3aW5kb3dIZWlnaHQgfSA9IHVzZVdpbmRvd1NpemUoKVxyXG5vbk1vdW50ZWQoKCkgPT4ge1xyXG4gIGhlaWdodC52YWx1ZSA9IHJlZlN0aWNreS52YWx1ZT8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0ICsgJ3B4J1xyXG5cclxuICBzY3JvbGxDb250YWluZXIudmFsdWUgPSBnZXRTY3JvbGxDb250YWluZXIocmVmU3RpY2t5LnZhbHVlISwgdHJ1ZSlcclxuICB1c2VFdmVudExpc3RlbmVyKHNjcm9sbENvbnRhaW5lciwgJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbClcclxuICB1c2VFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZWl6ZSlcclxuICBoYW5kbGVTY3JvbGwoKVxyXG59KVxyXG5vbkFjdGl2YXRlZCgoKSA9PiB7XHJcbiAgaGFuZGxlU2Nyb2xsKClcclxufSlcclxuXHJcbmNvbnN0IGNhbWVsaXplID0gKHN0cjogc3RyaW5nKTogc3RyaW5nID0+IHtcclxuICByZXR1cm4gc3RyLnJlcGxhY2UoLy0oXFx3KS9nLCAoXywgYykgPT4gKGMgPyBjLnRvVXBwZXJDYXNlKCkgOiAnJykpXHJcbn1cclxuXHJcbmNvbnN0IGdldFN0eWxlID0gKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBzdHlsZU5hbWU6IGtleW9mIENTU1Byb3BlcnRpZXMpOiBzdHJpbmcgPT4ge1xyXG4gIGlmICghaXNDbGllbnQgfHwgIWVsZW1lbnQgfHwgIXN0eWxlTmFtZSkgcmV0dXJuICcnXHJcblxyXG4gIGxldCBrZXkgPSBjYW1lbGl6ZShzdHlsZU5hbWUpXHJcbiAgaWYgKGtleSA9PT0gJ2Zsb2F0Jykga2V5ID0gJ2Nzc0Zsb2F0J1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzdHlsZSA9IGVsZW1lbnQuc3R5bGVbc3R5bGVOYW1lXVxyXG4gICAgaWYgKHN0eWxlKSByZXR1cm4gc3R5bGVcclxuICAgIGNvbnN0IGNvbXB1dGVkID0gZG9jdW1lbnQuZGVmYXVsdFZpZXc/LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgJycpXHJcbiAgICByZXR1cm4gY29tcHV0ZWQgPyBjb21wdXRlZFtzdHlsZU5hbWVdIDogJydcclxuICB9IGNhdGNoIHtcclxuICAgIHJldHVybiBlbGVtZW50LnN0eWxlW3N0eWxlTmFtZV1cclxuICB9XHJcbn1cclxuY29uc3QgaXNTY3JvbGwgPSAoZWw6IEhUTUxFbGVtZW50LCBpc1ZlcnRpY2FsPzogYm9vbGVhbik6IGJvb2xlYW4gPT4ge1xyXG4gIGlmICghaXNDbGllbnQpIHJldHVybiBmYWxzZVxyXG4gIGNvbnN0IGtleSA9IChcclxuICAgIHtcclxuICAgICAgdW5kZWZpbmVkOiAnb3ZlcmZsb3cnLFxyXG4gICAgICB0cnVlOiAnb3ZlcmZsb3cteScsXHJcbiAgICAgIGZhbHNlOiAnb3ZlcmZsb3cteCdcclxuICAgIH0gYXMgY29uc3RcclxuICApW1N0cmluZyhpc1ZlcnRpY2FsKV0hXHJcbiAgY29uc3Qgb3ZlcmZsb3cgPSBnZXRTdHlsZShlbCwga2V5KVxyXG4gIHJldHVybiBbJ3Njcm9sbCcsICdhdXRvJywgJ292ZXJsYXknXS5zb21lKChzKSA9PiBvdmVyZmxvdy5pbmNsdWRlcyhzKSlcclxufVxyXG5cclxuY29uc3QgZ2V0U2Nyb2xsQ29udGFpbmVyID0gKFxyXG4gIGVsOiBIVE1MRWxlbWVudCxcclxuICBpc1ZlcnRpY2FsOiBib29sZWFuXHJcbik6IFdpbmRvdyB8IEhUTUxFbGVtZW50IHwgdW5kZWZpbmVkID0+IHtcclxuICBpZiAoIWlzQ2xpZW50KSByZXR1cm5cclxuICBsZXQgcGFyZW50ID0gZWxcclxuICB3aGlsZSAocGFyZW50KSB7XHJcbiAgICBpZiAoW3dpbmRvdywgZG9jdW1lbnQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudF0uaW5jbHVkZXMocGFyZW50KSkgcmV0dXJuIHdpbmRvd1xyXG4gICAgaWYgKGlzU2Nyb2xsKHBhcmVudCwgaXNWZXJ0aWNhbCkpIHJldHVybiBwYXJlbnRcclxuICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlIGFzIEhUTUxFbGVtZW50XHJcbiAgfVxyXG4gIHJldHVybiBwYXJlbnRcclxufVxyXG5cclxuY29uc3QgaGFuZGxlU2Nyb2xsID0gKCkgPT4ge1xyXG4gIHdpZHRoLnZhbHVlID0gcmVmU3RpY2t5LnZhbHVlIS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCEgKyAncHgnXHJcbiAgaWYgKHByb3BzLnBvc2l0aW9uID09PSAndG9wJykge1xyXG4gICAgY29uc3Qgb2Zmc2V0VG9wID0gcmVmU3RpY2t5LnZhbHVlPy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3BcclxuICAgIGlmIChvZmZzZXRUb3AgIT09IHVuZGVmaW5lZCAmJiBvZmZzZXRUb3AgPCBwcm9wcy5vZmZzZXQpIHtcclxuICAgICAgc3RpY2t5KClcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICByZXNldCgpXHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnN0IG9mZnNldEJvdHRvbSA9IHJlZlN0aWNreS52YWx1ZT8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tXHJcblxyXG4gICAgaWYgKG9mZnNldEJvdHRvbSAhPT0gdW5kZWZpbmVkICYmIG9mZnNldEJvdHRvbSA+IHdpbmRvd0hlaWdodC52YWx1ZSAtIHByb3BzLm9mZnNldCkge1xyXG4gICAgICBzdGlja3koKVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIHJlc2V0KClcclxuICB9XHJcbn1cclxuY29uc3QgaGFuZGxlUmVpemUgPSAoKSA9PiB7XHJcbiAgaWYgKGlzU3RpY2t5LnZhbHVlICYmIHJlZlN0aWNreS52YWx1ZSkge1xyXG4gICAgd2lkdGgudmFsdWUgPSByZWZTdGlja3kudmFsdWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAncHgnXHJcbiAgfVxyXG59XHJcbmNvbnN0IHN0aWNreSA9ICgpID0+IHtcclxuICBpZiAoaXNTdGlja3kudmFsdWUpIHtcclxuICAgIHJldHVyblxyXG4gIH1cclxuICBpc1N0aWNreS52YWx1ZSA9IHRydWVcclxufVxyXG5jb25zdCByZXNldCA9ICgpID0+IHtcclxuICBpZiAoIWlzU3RpY2t5LnZhbHVlKSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgd2lkdGgudmFsdWUgPSAnYXV0bydcclxuICBpc1N0aWNreS52YWx1ZSA9IGZhbHNlXHJcbn1cclxuPC9zY3JpcHQ+XHJcbjx0ZW1wbGF0ZT5cclxuICA8ZGl2IDpzdHlsZT1cInsgaGVpZ2h0OiBoZWlnaHQsIHpJbmRleDogekluZGV4IH1cIiByZWY9XCJyZWZTdGlja3lcIj5cclxuICAgIDxkaXZcclxuICAgICAgOmNsYXNzPVwiY2xhc3NOYW1lXCJcclxuICAgICAgOnN0eWxlPVwie1xyXG4gICAgICAgIHRvcDogcG9zaXRpb24gPT09ICd0b3AnID8gb2Zmc2V0ICsgJ3B4JyA6ICcnLFxyXG4gICAgICAgIGJvdHRvbTogcG9zaXRpb24gIT09ICd0b3AnID8gb2Zmc2V0ICsgJ3B4JyA6ICcnLFxyXG4gICAgICAgIHpJbmRleDogekluZGV4LFxyXG4gICAgICAgIHBvc2l0aW9uOiBpc1N0aWNreSA/ICdmaXhlZCcgOiAnc3RhdGljJyxcclxuICAgICAgICB3aWR0aDogd2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHRcclxuICAgICAgfVwiXHJcbiAgICA+XHJcbiAgICAgIDxzbG90PlxyXG4gICAgICAgIDxkaXY+c3RpY2t5PC9kaXY+XHJcbiAgICAgIDwvc2xvdD5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG48L3RlbXBsYXRlPlxyXG4iXSwibmFtZXMiOlsid2lkdGgiLCJyZWYiLCJoZWlnaHQiLCJpc1N0aWNreSIsInJlZlN0aWNreSIsInNoYWxsb3dSZWYiLCJzY3JvbGxDb250YWluZXIiLCJ3aW5kb3dIZWlnaHQiLCJ1c2VXaW5kb3dTaXplIiwib25Nb3VudGVkIiwidmFsdWUiLCJfYSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImdldFNjcm9sbENvbnRhaW5lciIsInVzZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVTY3JvbGwiLCJoYW5kbGVSZWl6ZSIsIm9uQWN0aXZhdGVkIiwiaXNTY3JvbGwiLCJlbCIsImlzVmVydGljYWwiLCJpc0NsaWVudCIsIm92ZXJmbG93IiwiZWxlbWVudCIsInN0eWxlTmFtZSIsInJlcGxhY2UiLCJfIiwiYyIsInRvVXBwZXJDYXNlIiwic3R5bGUiLCJjb21wdXRlZCIsImRvY3VtZW50IiwiZGVmYXVsdFZpZXciLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0U3R5bGUiLCJ1bmRlZmluZWQiLCJ0cnVlIiwiZmFsc2UiLCJTdHJpbmciLCJzb21lIiwicyIsImluY2x1ZGVzIiwicGFyZW50Iiwid2luZG93IiwiZG9jdW1lbnRFbGVtZW50IiwicGFyZW50Tm9kZSIsInByb3BzIiwicG9zaXRpb24iLCJvZmZzZXRUb3AiLCJ0b3AiLCJvZmZzZXQiLCJvZmZzZXRCb3R0b20iLCJfYiIsImJvdHRvbSIsInN0aWNreSIsInJlc2V0Il0sIm1hcHBpbmdzIjoiZ1pBcUJNQSxFQUFRQyxFQUFJLFFBQ1pDLEVBQVNELEVBQUksUUFDYkUsRUFBV0YsR0FBSSxHQUNmRyxFQUFZQyxJQUNaQyxFQUFrQkQsS0FDaEJILE9BQVFLLEdBQWlCQyxJQUNqQ0MsR0FBVSxXQUNSUCxFQUFPUSxPQUFRLE9BQUFDLEVBQUFQLEVBQVVNLFlBQVYsRUFBQUMsRUFBaUJDLHdCQUF3QlYsUUFBUyxLQUVqRUksRUFBZ0JJLE1BQVFHLEVBQW1CVCxFQUFVTSxPQUFRLEdBQzVDSSxFQUFBUixFQUFpQixTQUFVUyxHQUM1Q0QsRUFBaUIsU0FBVUUsVUFHN0JDLEdBQVksWUFJTixNQWtCQUMsRUFBVyxDQUFDQyxFQUFpQkMsS0FDakMsSUFBS0MsRUFBaUIsT0FBQSxFQUN0QixNQU9NQyxFQXZCUyxFQUFDQyxFQUFzQkMsV0FDdEMsSUFBS0gsSUFBYUUsSUFBWUMsRUFBa0IsTUFBQSxHQUU3QkEsRUFOUkMsUUFBUSxVQUFVLENBQUNDLEVBQUdDLElBQU9BLEVBQUlBLEVBQUVDLGNBQWdCLEtBUTFELElBQ0ksTUFBQUMsRUFBUU4sRUFBUU0sTUFBTUwsR0FDeEIsR0FBQUssRUFBYyxPQUFBQSxFQUNsQixNQUFNQyxFQUFXLE9BQUFuQixFQUFBb0IsU0FBU0Msa0JBQVQsRUFBQXJCLEVBQXNCc0IsaUJBQWlCVixFQUFTLElBQzFELE9BQUFPLEVBQVdBLEVBQVNOLEdBQWEsR0FDeEMsTUFDQSxPQUFPRCxFQUFRTSxNQUFNTCxLQVlOVSxDQUFTZixFQU54QixDQUNFZ0IsVUFBVyxXQUNYQyxLQUFNLGFBQ05DLE1BQU8sY0FFVEMsT0FBT2xCLEtBRUYsTUFBQSxDQUFDLFNBQVUsT0FBUSxXQUFXbUIsTUFBTUMsR0FBTWxCLEVBQVNtQixTQUFTRCxNQUcvRDNCLEVBQXFCLENBQ3pCTSxFQUNBQyxLQUVBLElBQUtDLEVBQVUsT0FDZixJQUFJcUIsRUFBU3ZCLEVBQ2IsS0FBT3VCLEdBQVEsQ0FDYixHQUFJLENBQUNDLE9BQVFaLFNBQVVBLFNBQVNhLGlCQUFpQkgsU0FBU0MsR0FBZ0IsT0FBQUMsT0FDdEUsR0FBQXpCLEVBQVN3QixFQUFRdEIsR0FBb0IsT0FBQXNCLEVBQ3pDQSxFQUFTQSxFQUFPRyxXQUVYLE9BQUFILEdBR0gzQixFQUFlLGFBRWYsR0FESmYsRUFBTVUsTUFBUU4sRUFBVU0sTUFBT0Usd0JBQXdCWixNQUFTLEtBQ3pDLFFBQW5COEMsRUFBTUMsU0FBb0IsQ0FDNUIsTUFBTUMsRUFBWSxPQUFBckMsRUFBQVAsRUFBVU0sWUFBVixFQUFBQyxFQUFpQkMsd0JBQXdCcUMsSUFDM0QsUUFBa0IsSUFBZEQsR0FBMkJBLEVBQVlGLEVBQU1JLE9BRS9DLHdCQUdHLENBQ0wsTUFBTUMsRUFBZSxPQUFBQyxFQUFBaEQsRUFBVU0sWUFBVixFQUFBMEMsRUFBaUJ4Qyx3QkFBd0J5QyxPQUU5RCxRQUFxQixJQUFqQkYsR0FBOEJBLEVBQWU1QyxFQUFhRyxNQUFRb0MsRUFBTUksT0FFMUUsc0JBS0FsQyxFQUFjLEtBQ2RiLEVBQVNPLE9BQVNOLEVBQVVNLFFBQzlCVixFQUFNVSxNQUFRTixFQUFVTSxNQUFNRSx3QkFBd0JaLE1BQVEsT0FHNURzRCxFQUFTLEtBQ1RuRCxFQUFTTyxRQUdiUCxFQUFTTyxPQUFRLElBRWI2QyxFQUFRLEtBQ1BwRCxFQUFTTyxRQUdkVixFQUFNVSxNQUFRLE9BQ2RQLEVBQVNPLE9BQVEifQ==
