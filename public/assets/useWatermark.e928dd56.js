import{_ as e}from"./ContentWrap.851f508f.js";import{d as t,b as a,D as n,l as r,b0 as o,o as s,k as i,w as l,g as d,x as m,t as c,a as p}from"./index.63ad27ed.js";import{E as u}from"./el-button.6bb32269.js";import"./el-card.9f27dd59.js";import"./el-popper.2e0f947e.js";import"./index2.06b96e43.js";import"./index2.f758414f.js";const f=Symbol("watermark-dom");const k=t({__name:"useWatermark",setup(t){const k=a(),g=n((()=>k.getTitle)),{setWatermark:y,clear:x}=function(e=document.body){let t=()=>{};const a=f.toString(),n=()=>{const n=document.getElementById(a);if(n){const t=e;t&&t.removeChild(n)}window.removeEventListener("resize",t)},r=t=>{n();const r=document.createElement("canvas");r.width=300,r.height=240;const o=r.getContext("2d");o&&(o.rotate(-20*Math.PI/120),o.font="15px Vedana",o.fillStyle="rgba(0, 0, 0, 0.15)",o.textAlign="left",o.textBaseline="middle",o.fillText(t,r.width/20,r.height));const s=document.createElement("div");return s.id=a,s.style.pointerEvents="none",s.style.top="0px",s.style.left="0px",s.style.position="absolute",s.style.zIndex="100000000",s.style.width=document.documentElement.clientWidth+"px",s.style.height=document.documentElement.clientHeight+"px",s.style.background="url("+r.toDataURL("image/png")+") left top repeat",e&&e.appendChild(s),a};return{setWatermark:function(e){r(e),t=()=>{r(e)},window.addEventListener("resize",t)},clear:n}}(),{t:h}=r();return o((()=>{x()})),(t,a)=>(s(),i(p(e),{title:"useWatermark"},{default:l((()=>[d(p(u),{type:"primary",onClick:a[0]||(a[0]=e=>p(y)(p(g)))},{default:l((()=>[m(c(p(h)("watermarkDemo.createdWatermark")),1)])),_:1}),d(p(u),{type:"danger",onClick:p(x)},{default:l((()=>[m(c(p(h)("watermarkDemo.clearWatermark")),1)])),_:1},8,["onClick"]),d(p(u),{type:"warning",onClick:a[1]||(a[1]=e=>p(y)(`New${p(g)}`))},{default:l((()=>[m(c(p(h)("watermarkDemo.resetWatermark")),1)])),_:1})])),_:1}))}});export{k as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlV2F0ZXJtYXJrLmU5MjhkZDU2LmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaG9va3Mvd2ViL3VzZVdhdGVybWFyay50cyIsIi4uLy4uL3NyYy92aWV3cy9ob29rcy91c2VXYXRlcm1hcmsudnVlIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGRvbVN5bWJvbCA9IFN5bWJvbCgnd2F0ZXJtYXJrLWRvbScpXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXNlV2F0ZXJtYXJrKGFwcGVuZEVsOiBIVE1MRWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5ib2R5KSB7XHJcbiAgbGV0IGZ1bmM6IEZuID0gKCkgPT4ge31cclxuICBjb25zdCBpZCA9IGRvbVN5bWJvbC50b1N0cmluZygpXHJcbiAgY29uc3QgY2xlYXIgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBkb21JZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKVxyXG4gICAgaWYgKGRvbUlkKSB7XHJcbiAgICAgIGNvbnN0IGVsID0gYXBwZW5kRWxcclxuICAgICAgZWwgJiYgZWwucmVtb3ZlQ2hpbGQoZG9tSWQpXHJcbiAgICB9XHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuYylcclxuICB9XHJcbiAgY29uc3QgY3JlYXRlV2F0ZXJtYXJrID0gKHN0cjogc3RyaW5nKSA9PiB7XHJcbiAgICBjbGVhcigpXHJcblxyXG4gICAgY29uc3QgY2FuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJylcclxuICAgIGNhbi53aWR0aCA9IDMwMFxyXG4gICAgY2FuLmhlaWdodCA9IDI0MFxyXG5cclxuICAgIGNvbnN0IGNhbnMgPSBjYW4uZ2V0Q29udGV4dCgnMmQnKVxyXG4gICAgaWYgKGNhbnMpIHtcclxuICAgICAgY2Fucy5yb3RhdGUoKC0yMCAqIE1hdGguUEkpIC8gMTIwKVxyXG4gICAgICBjYW5zLmZvbnQgPSAnMTVweCBWZWRhbmEnXHJcbiAgICAgIGNhbnMuZmlsbFN0eWxlID0gJ3JnYmEoMCwgMCwgMCwgMC4xNSknXHJcbiAgICAgIGNhbnMudGV4dEFsaWduID0gJ2xlZnQnXHJcbiAgICAgIGNhbnMudGV4dEJhc2VsaW5lID0gJ21pZGRsZSdcclxuICAgICAgY2Fucy5maWxsVGV4dChzdHIsIGNhbi53aWR0aCAvIDIwLCBjYW4uaGVpZ2h0KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICBkaXYuaWQgPSBpZFxyXG4gICAgZGl2LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSdcclxuICAgIGRpdi5zdHlsZS50b3AgPSAnMHB4J1xyXG4gICAgZGl2LnN0eWxlLmxlZnQgPSAnMHB4J1xyXG4gICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJ1xyXG4gICAgZGl2LnN0eWxlLnpJbmRleCA9ICcxMDAwMDAwMDAnXHJcbiAgICBkaXYuc3R5bGUud2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggKyAncHgnXHJcbiAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCArICdweCdcclxuICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kID0gJ3VybCgnICsgY2FuLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJykgKyAnKSBsZWZ0IHRvcCByZXBlYXQnXHJcbiAgICBjb25zdCBlbCA9IGFwcGVuZEVsXHJcbiAgICBlbCAmJiBlbC5hcHBlbmRDaGlsZChkaXYpXHJcbiAgICByZXR1cm4gaWRcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNldFdhdGVybWFyayhzdHI6IHN0cmluZykge1xyXG4gICAgY3JlYXRlV2F0ZXJtYXJrKHN0cilcclxuICAgIGZ1bmMgPSAoKSA9PiB7XHJcbiAgICAgIGNyZWF0ZVdhdGVybWFyayhzdHIpXHJcbiAgICB9XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuYylcclxuICB9XHJcblxyXG4gIHJldHVybiB7IHNldFdhdGVybWFyaywgY2xlYXIgfVxyXG59XHJcbiIsIjxzY3JpcHQgc2V0dXAgbGFuZz1cInRzXCI+XHJcbmltcG9ydCB7IENvbnRlbnRXcmFwIH0gZnJvbSAnQC9jb21wb25lbnRzL0NvbnRlbnRXcmFwJ1xyXG5pbXBvcnQgeyB1c2VJMThuIH0gZnJvbSAnQC9ob29rcy93ZWIvdXNlSTE4bidcclxuaW1wb3J0IHsgRWxCdXR0b24gfSBmcm9tICdlbGVtZW50LXBsdXMnXHJcbmltcG9ydCB7IHVzZVdhdGVybWFyayB9IGZyb20gJ0AvaG9va3Mvd2ViL3VzZVdhdGVybWFyaydcclxuaW1wb3J0IHsgY29tcHV0ZWQsIG9uQmVmb3JlVW5tb3VudCB9IGZyb20gJ3Z1ZSdcclxuaW1wb3J0IHsgdXNlQXBwU3RvcmUgfSBmcm9tICdAL3N0b3JlL21vZHVsZXMvYXBwJ1xyXG5cclxuY29uc3QgYXBwU3RvcmUgPSB1c2VBcHBTdG9yZSgpXHJcblxyXG5jb25zdCB0aXRsZSA9IGNvbXB1dGVkKCgpID0+IGFwcFN0b3JlLmdldFRpdGxlKVxyXG5cclxuY29uc3QgeyBzZXRXYXRlcm1hcmssIGNsZWFyIH0gPSB1c2VXYXRlcm1hcmsoKVxyXG5cclxuY29uc3QgeyB0IH0gPSB1c2VJMThuKClcclxuXHJcbm9uQmVmb3JlVW5tb3VudCgoKSA9PiB7XHJcbiAgY2xlYXIoKVxyXG59KVxyXG48L3NjcmlwdD5cclxuXHJcbjx0ZW1wbGF0ZT5cclxuICA8Q29udGVudFdyYXAgdGl0bGU9XCJ1c2VXYXRlcm1hcmtcIj5cclxuICAgIDxFbEJ1dHRvbiB0eXBlPVwicHJpbWFyeVwiIEBjbGljaz1cInNldFdhdGVybWFyayh0aXRsZSlcIj5cclxuICAgICAge3sgdCgnd2F0ZXJtYXJrRGVtby5jcmVhdGVkV2F0ZXJtYXJrJykgfX1cclxuICAgIDwvRWxCdXR0b24+XHJcbiAgICA8RWxCdXR0b24gdHlwZT1cImRhbmdlclwiIEBjbGljaz1cImNsZWFyXCI+e3sgdCgnd2F0ZXJtYXJrRGVtby5jbGVhcldhdGVybWFyaycpIH19PC9FbEJ1dHRvbj5cclxuICAgIDxFbEJ1dHRvbiB0eXBlPVwid2FybmluZ1wiIEBjbGljaz1cInNldFdhdGVybWFyayhgTmV3JHt0aXRsZX1gKVwiPlxyXG4gICAgICB7eyB0KCd3YXRlcm1hcmtEZW1vLnJlc2V0V2F0ZXJtYXJrJykgfX1cclxuICAgIDwvRWxCdXR0b24+XHJcbiAgPC9Db250ZW50V3JhcD5cclxuPC90ZW1wbGF0ZT5cclxuIl0sIm5hbWVzIjpbImRvbVN5bWJvbCIsIlN5bWJvbCIsImFwcFN0b3JlIiwidXNlQXBwU3RvcmUiLCJ0aXRsZSIsImNvbXB1dGVkIiwiZ2V0VGl0bGUiLCJzZXRXYXRlcm1hcmsiLCJjbGVhciIsImFwcGVuZEVsIiwiZG9jdW1lbnQiLCJib2R5IiwiZnVuYyIsImlkIiwidG9TdHJpbmciLCJkb21JZCIsImdldEVsZW1lbnRCeUlkIiwiZWwiLCJyZW1vdmVDaGlsZCIsIndpbmRvdyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjcmVhdGVXYXRlcm1hcmsiLCJzdHIiLCJjYW4iLCJjcmVhdGVFbGVtZW50Iiwid2lkdGgiLCJoZWlnaHQiLCJjYW5zIiwiZ2V0Q29udGV4dCIsInJvdGF0ZSIsIk1hdGgiLCJQSSIsImZvbnQiLCJmaWxsU3R5bGUiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsVGV4dCIsImRpdiIsInN0eWxlIiwicG9pbnRlckV2ZW50cyIsInRvcCIsImxlZnQiLCJwb3NpdGlvbiIsInpJbmRleCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiYmFja2dyb3VuZCIsInRvRGF0YVVSTCIsImFwcGVuZENoaWxkIiwiYWRkRXZlbnRMaXN0ZW5lciIsInVzZVdhdGVybWFyayIsInQiLCJ1c2VJMThuIiwib25CZWZvcmVVbm1vdW50Il0sIm1hcHBpbmdzIjoid1VBQUEsTUFBTUEsRUFBWUMsT0FBTywyRENRekIsTUFBTUMsRUFBV0MsSUFFWEMsRUFBUUMsR0FBUyxJQUFNSCxFQUFTSSxZQUVoQ0MsYUFBRUEsRUFBY0MsTUFBQUEsR0RWTyxTQUFBQyxFQUErQkMsU0FBU0MsTUFDbkUsSUFBSUMsRUFBVyxPQUNULE1BQUFDLEVBQUtiLEVBQVVjLFdBQ2ZOLEVBQVEsS0FDTixNQUFBTyxFQUFRTCxTQUFTTSxlQUFlSCxHQUN0QyxHQUFJRSxFQUFPLENBQ1QsTUFBTUUsRUFBS1IsRUFDTFEsR0FBQUEsRUFBR0MsWUFBWUgsR0FFaEJJLE9BQUFDLG9CQUFvQixTQUFVUixJQUVqQ1MsRUFBbUJDLFFBR2pCLE1BQUFDLEVBQU1iLFNBQVNjLGNBQWMsVUFDbkNELEVBQUlFLE1BQVEsSUFDWkYsRUFBSUcsT0FBUyxJQUVQLE1BQUFDLEVBQU9KLEVBQUlLLFdBQVcsTUFDeEJELElBQ0ZBLEVBQUtFLFFBQVEsR0FBTUMsS0FBS0MsR0FBTSxLQUM5QkosRUFBS0ssS0FBTyxjQUNaTCxFQUFLTSxVQUFZLHNCQUNqQk4sRUFBS08sVUFBWSxPQUNqQlAsRUFBS1EsYUFBZSxTQUNwQlIsRUFBS1MsU0FBU2QsRUFBS0MsRUFBSUUsTUFBUSxHQUFJRixFQUFJRyxTQUduQyxNQUFBVyxFQUFNM0IsU0FBU2MsY0FBYyxPQVk1QixPQVhQYSxFQUFJeEIsR0FBS0EsRUFDVHdCLEVBQUlDLE1BQU1DLGNBQWdCLE9BQzFCRixFQUFJQyxNQUFNRSxJQUFNLE1BQ2hCSCxFQUFJQyxNQUFNRyxLQUFPLE1BQ2pCSixFQUFJQyxNQUFNSSxTQUFXLFdBQ3JCTCxFQUFJQyxNQUFNSyxPQUFTLFlBQ25CTixFQUFJQyxNQUFNYixNQUFRZixTQUFTa0MsZ0JBQWdCQyxZQUFjLEtBQ3pEUixFQUFJQyxNQUFNWixPQUFTaEIsU0FBU2tDLGdCQUFnQkUsYUFBZSxLQUMzRFQsRUFBSUMsTUFBTVMsV0FBYSxPQUFTeEIsRUFBSXlCLFVBQVUsYUFBZSxvQkFDbER2QyxHQUFBQSxFQUNGd0MsWUFBWVosR0FDZHhCLEdBV0YsTUFBQSxDQUFFTixhQVJULFNBQXNCZSxHQUNwQkQsRUFBZ0JDLEdBQ2hCVixFQUFPLEtBQ0xTLEVBQWdCQyxJQUVYSCxPQUFBK0IsaUJBQWlCLFNBQVV0QyxJQUdiSixNQUFBQSxHQ3pDTzJDLElBRTFCQyxFQUFFQSxHQUFNQyxXQUVkQyxHQUFnQiJ9
