import{_ as e}from"./ContentWrap.bd505729.js";import{_ as a}from"./SearchButton.592af312.js";import{_ as o}from"./Dialog.920e100e.js";import{d as t,ch as s,bQ as r,q as l,r as n,s as c,aF as i,o as d,c as p,g as u,w as m,a as f,G as g,l as w,e as h,k as y,at as b,x as v,t as k,bS as j}from"./index.701681eb.js";import{E as _}from"./el-button.c81d4f55.js";import{E as S}from"./el-tag.ddbbcdb2.js";import{E as C}from"./el-message-box.2a623809.js";import"./el-input.ed535820.js";import"./el-overlay.bdf8afb7.js";import{_ as P}from"./Table.vue_vue_type_script_lang.e2d83e06.js";import{u as x}from"./useAxios.51602908.js";import{u as R}from"./useTable.ed8be171.js";import I from"./Write.b0400490.js";import z from"./Detail.e8a17e11.js";import{u as F}from"./useCrudSchemas.9467c006.js";import{u as q}from"./useIcon.28eb236a.js";import"./el-card.2c75e3e6.js";import"./el-popper.e9e2fc16.js";import"./index2.01250fd4.js";import"./Form.358e2152.js";import"./el-col.33bc6b64.js";import"./typescript2.0e462989.js";import"./tsxHelper.39476c1a.js";import"./index2.bc62f99f.js";import"./event2.1741f333.js";import"./index2.411e8ed3.js";import"./scroll2.58f9a7d9.js";import"./debounce.96a7db81.js";import"./validator2.d2a80b6f.js";import"./el-input-number.b4d61595.js";import"./el-switch.8b8da31d.js";import"./el-divider.56b4f6b6.js";import"./InputPassword.2af2bf1d.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./Editor.8d38f34f.js";import"./aria2.b5095a02.js";import"./browser2.c56688aa.js";import"./useForm.f9c4db1c.js";import"./use-dialog2.545d2e9f.js";import"./refs2.946bb193.js";import"./vnode2.31a80e3f.js";import"./useValidator.8da58eac.js";import"./Descriptions.70b93e1a.js";import"./index2.42d1d9cc.js";import"./tree.9e4d3f05.js";const B=x(),D=async e=>{const a=await B.get({url:"/categories/"+e.id+"/stocks",params:e});return a&&a.data},A=async e=>{const a=e.toString(),o=await B.post({url:"/stocks/del",data:{ids:a}});return o&&o.data},N={class:"mb-10px float-left"},L=t({__name:"StockList",setup(t){const x=s();console.log("route.query========",x.query);let L=x.query.id;const E=x.query.userId,U=x.query.del,T=x.query.from,G=x.query.indId,V=x.query.size;L||(L=-1);let W=0;U&&(W=1),console.log("delFlag----",W);const O=r(),{wsCache:H}=l(),M=H.get(O.getUserInfo).id;console.log(M,"========",E);let Q=!0;E==M&&(Q=!1);const{register:J,tableObject:K,methods:X}=R({getListApi:D,delListApi:A,response:{list:"list",total:"total"}}),{getList:Y,setSearchParams:Z}=X;K.params.id=L,K.params.del=W,K.params.userId=M,K.params.from=T,K.params.indId=G,K.params.size=V,Y();const{t:$}=w(),ee=q({icon:"ant-design:plus-outlined"}),ae=q({icon:"icon-park-outline:stock-market"}),oe=q({icon:"ep:delete"});let te=q({icon:"bx:edit"});1==W&&(te=q({icon:"fa-solid:undo"}));const se=n(""),re=n([]),le=n(["#99A9BF","#F7BA2A","#FF9900"]),ne=c([{field:"code",label:$("stock.code"),type:"count",search:{show:!0},form:{componentProps:{readonly:!0,onChange:async e=>{const a=await(async e=>{const a=await B.get({url:"/stocks/getStockByCode",params:{code:e}});return a&&a.data})(e).catch((()=>{})).finally((()=>{be.value=!1}));a&&(ce=a.data,a.data.length>0&&(K.currentRow.cate33=a.data[0].cate33,K.currentRow.name=a.data[0].name,K.currentRow.size=a.data[0].size,K.currentRow.code=a.data[0].code))}},colProps:{span:12}},detail:{show:!1}},{field:"name",label:$("stock.name"),search:{show:!0},form:{show:!0,componentProps:{readonly:!0},colProps:{span:12}},detail:{span:12}},{field:"cate33",label:$("stock.industry"),search:{show:!1},form:{show:!0,componentProps:{readonly:!0},colProps:{span:12}}},{field:"size",label:$("stock.size"),table:{show:!0},form:{show:!0,componentProps:{readonly:!0},colProps:{span:12}}},{field:"pattern",table:{show:"industry"!=T},search:{show:!1,component:"Select",componentProps:{readonly:!1,options:[{label:$("stock.headShoulder"),value:"1"},{label:$("stock.getingChips"),value:"2"},{label:$("stock.stars"),value:"3"},{label:$("stock.gap"),value:"4"},{label:$("stock.others"),value:"5"}]}},label:$("stock.pattern"),formatter:(e,a,o)=>i(S,{type:"1"===o?"success":"2"===o?"warning":"3"===o?"danger":"4"===o?"info":""},(()=>$("1"===o?"stock.headShoulder":"2"===o?"stock.getingChips":"3"===o?"stock.stars":"4"===o?"stock.gap":"stock.others"))),form:{colProps:{span:12},component:"Select",componentProps:{disabled:!1,options:[{label:$("stock.headShoulder"),value:"1"},{label:$("stock.getingChips"),value:"2"},{label:$("stock.stars"),value:"3"},{label:$("stock.gap"),value:"4"},{label:$("stock.others"),value:"5"}]}}},{field:"score",type:"count",label:$("stock.rate"),table:{show:"industry"!=T},formatter:(e,a,o)=>i(S,{type:0!==o&&o?1===o||2===o?"danger":3===o?"warning":4===o?"":"success":"info",effect:o?"dark":"light",round:!0},(()=>o)),form:{component:"Rate",componentProps:{readonly:Q,colors:le,size:"large"}}},{field:"created_at",label:$("stock.create_at"),table:{show:"industry"!=T},form:{show:!1}},{field:"category_ids",label:$("stock.save_as_block"),table:{show:!1},form:{colProps:{span:24},component:"CheckboxButton",value:[],componentProps:{options:[]}}},{field:"newCateName",label:$("stock.newGroup"),table:{show:!1},form:{show:!0,component:"Input",componentProps:{}}},{field:"cateName",label:$("stock.theGroup"),table:{show:1==W},form:{show:!1,component:"Input",componentProps:{}}},{field:"remark",label:$("group.remark"),table:{show:!1},form:{component:"Input",componentProps:{readonly:!1,type:"textarea",rows:10},colProps:{span:24}}},{field:"action",width:"260px",label:$("stock.action"),form:{show:!1},detail:{show:!1}}]);let ce=c([]);const ie=async()=>{const e=await(async e=>{const a=await B.get({url:"/categories/getCatesByUserId",params:{userId:e}});return a&&a.data})(M).catch((()=>{})).finally((()=>{be.value=!1}));if(e){ce=e.data;let a=[];for(let o=0;o<e.data.length;o++)a.push(e.data[o].value);re.value=a,ne.length>=8&&(ne[7].form.componentProps.options=ce)}};ie();const de=n([]),pe=async(e,a)=>{const o=await(async(e,a)=>{const o=await B.get({url:"/categories/getCatesByUserIdCode",params:{userId:e,code:a}});return o&&o.data})(e,a).catch((()=>{})).finally((()=>{be.value=!1}));if(o){ce=o.data;let e=[];for(let a=0;a<o.data.length;a++)e.push(o.data[a].value);de.value=e,K.currentRow.category_ids=de.value}},{allSchemas:ue}=F(ne),me=n(!1),fe=n(""),ge=n(!1),we=async(e,a,o)=>{var t;K.currentRow=e;const{delList:s,getSelections:r}=X,l=await r();a&&0==l.length||(ge.value=!0,1==o?C.confirm($("common.delMessage"),$("common.delWarning"),{confirmButtonText:$("common.delOk"),cancelButtonText:$("common.delCancel"),type:"warning"}).then((async()=>{var e;await(async e=>{const a=e.toString(),o=await B.post({url:"/stocks/rmf",data:{ids:a}});return o&&o.data})(a?l.map((e=>e.id)):[null==(e=K.currentRow)?void 0:e.id]).finally((()=>{ge.value=!1,Y()}))})):await s(a?l.map((e=>e.id)):[null==(t=K.currentRow)?void 0:t.id],a).finally((()=>{ge.value=!1,Y()})))},he=async(e,a)=>{var o;console.log("recData=========="),K.currentRow=e;const{getSelections:t}=X,s=await t();a&&0==s.length||(ge.value=!0,await(async e=>{const a=e.toString(),o=await B.post({url:"/stocks/rec",data:{ids:a}});return o&&o.data})(a?s.map((e=>e.id)):[null==(o=K.currentRow)?void 0:o.id]).finally((()=>{ge.value=!1,Y()})))},ye=n(),be=n(!1),ve=async()=>{var e;const a=f(ye);await(null==(e=null==a?void 0:a.elFormRef)?void 0:e.validate((async e=>{if(e){const e=await(null==a?void 0:a.getFormData());if(e.user_id=M,0==e.category_ids.length&&""==e.newCateName)return j.warning($("stock.msgGroupNull")),!1;e.category_id||(e.category_id=-1),console.log("stockSave====",e);const o=await(async e=>{const a=await B.post({url:"/stocks/saveStock",data:e});return a&&a.data})(e).catch((()=>{})).finally((()=>{be.value=!1}));o&&(me.value=!1,K.currentPage=1,Y())}})))};return(t,s)=>(d(),p(g,null,[u(f(e),null,{default:m((()=>[h("div",N,[1!=f(W)?(d(),y(f(_),{key:0,disabled:f(Q)||1==f(W),icon:f(ee),type:"primary",onClick:s[0]||(s[0]=e=>(ne.length>=1&&(ne[0].form.componentProps.readonly=!1),fe.value=$("exampleDemo.add"),se.value="edit",K.currentRow={id:NaN,name:"",cate33:"",code:"",user_id:M,category_id:+L,pattern:"",market:"",remark:"",created_at:"",category_ids:[+L],score:0,size:"",cateName:"",newCateName:""},void(me.value=!0)))},null,8,["disabled","icon"])):b("v-if",!0),1==f(W)?(d(),y(f(_),{key:1,icon:f(te),type:"primary",onClick:s[1]||(s[1]=e=>he(null,!0))},null,8,["icon"])):b("v-if",!0),u(f(_),{disabled:f(Q)&&0==f(W),icon:f(oe),loading:ge.value,type:"danger",onClick:s[2]||(s[2]=e=>we(null,!0,f(W)))},null,8,["disabled","icon","loading"])]),u(f(a),{schema:f(ue).searchSchema,onSearch:f(Z),onReset:f(Z)},null,8,["schema","onSearch","onReset"]),u(f(P),{pageSize:f(K).pageSize,"onUpdate:pageSize":s[3]||(s[3]=e=>f(K).pageSize=e),currentPage:f(K).currentPage,"onUpdate:currentPage":s[4]||(s[4]=e=>f(K).currentPage=e),columns:f(ue).tableColumns,data:f(K).tableList,loading:f(K).loading,pagination:{total:f(K).total},onRegister:f(J)},{action:m((({row:e})=>[u(f(_),{icon:f(ae),type:"success",onClick:a=>(e=>{window.open("https://www.tradingview.com/chart/CFSEAW1L/?symbol=TSE%3A"+e.code,"_blank")})(e)},null,8,["icon","onClick"]),u(f(_),{icon:f(te),type:"primary",onClick:a=>(async(e,a)=>{console.log("action_delflag====",W),1==W?(console.log("now is in trash ; Do recover"),await he(e,!1),Y()):(ie(),fe.value=$("edit"===a?"exampleDemo.edit":"exampleDemo.detail"),se.value=a,ne.length>=1&&(ne[0].form.componentProps.readonly=!0),K.currentRow=e,pe(M,e.code),me.value=!0)})(e,"edit")},null,8,["icon","onClick"]),u(f(_),{disabled:f(Q)&&0==f(W),icon:f(oe),type:"danger",onClick:a=>we(e,!1,f(W))},null,8,["disabled","icon","onClick"])])),_:1},8,["pageSize","currentPage","columns","data","loading","pagination","onRegister"])])),_:1}),u(f(o),{modelValue:me.value,"onUpdate:modelValue":s[6]||(s[6]=e=>me.value=e),title:fe.value},{footer:m((()=>["detail"!==se.value?(d(),y(f(_),{key:0,type:"primary",loading:be.value,onClick:ve},{default:m((()=>[v(k(f($)("stock.save")),1)])),_:1},8,["loading"])):b("v-if",!0),u(f(_),{onClick:s[5]||(s[5]=e=>me.value=!1)},{default:m((()=>[v(k(f($)("stock.cancel")),1)])),_:1})])),default:m((()=>["edit"===se.value?(d(),y(I,{key:0,ref_key:"writeRef",ref:ye,"form-schema":f(ue).formSchema,"current-row":f(K).currentRow},null,8,["form-schema","current-row"])):b("v-if",!0),"detail"===se.value?(d(),y(z,{key:1,"detail-schema":f(ue).detailSchema,"current-row":f(K).currentRow},null,8,["detail-schema","current-row"])):b("v-if",!0)])),_:1},8,["modelValue","title"])],64))}});export{L as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3RvY2tMaXN0LjQzZDEzYzNkLmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvYXBpL3N0b2NrL2luZGV4LnRzIiwiLi4vLi4vc3JjL3ZpZXdzL1N0b2NrL1N0b2NrTGlzdC52dWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQXhpb3MgfSBmcm9tICdAL2hvb2tzL3dlYi91c2VBeGlvcydcbi8vIGltcG9ydCB7IElkVHlwZSB9IGZyb20gJy4uL2xvZ2luL3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBTdG9ja0RhdGEgfSBmcm9tICcuL3R5cGVzJ1xuXG5jb25zdCByZXF1ZXN0ID0gdXNlQXhpb3MoKVxuXG5leHBvcnQgY29uc3QgZ2V0U3RvY2tMaXN0QXBpID0gYXN5bmMgKHBhcmFtczogYW55KTogUHJvbWlzZTxJUmVzcG9uc2U+ID0+IHtcbiAgLy8gY29uc3QgcmVzID0gYXdhaXQgcmVxdWVzdC5nZXQoeyB1cmw6ICcvY2F0ZWdvcmllcy8nICsgaWQuaWQgKyAnL3N0b2Nrcz9pbmNsdWRlPXVzZXInIH0pXG4gIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QuZ2V0KHsgdXJsOiAnL2NhdGVnb3JpZXMvJyArIHBhcmFtcy5pZCArICcvc3RvY2tzJywgcGFyYW1zIH0pXG4gIHJldHVybiByZXMgJiYgcmVzLmRhdGFcbn1cblxuZXhwb3J0IGNvbnN0IHNhdmVTdG9ja0FwaSA9IGFzeW5jIChkYXRhOiBQYXJ0aWFsPFN0b2NrRGF0YT4pOiBQcm9taXNlPElSZXNwb25zZT4gPT4ge1xuICAvLyBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0LnBvc3QoeyB1cmw6ICcvY2F0ZWdvcmllcy8nICsgZGF0YS5jYXRlZ29yeV9pZCArICcvc3RvY2tzJywgZGF0YSB9KVxuICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0LnBvc3QoeyB1cmw6ICcvc3RvY2tzL3NhdmVTdG9jaycsIGRhdGEgfSlcbiAgcmV0dXJuIHJlcyAmJiByZXMuZGF0YVxufVxuXG5leHBvcnQgY29uc3QgZ2V0U3RvY2tEZXRBcGkgPSBhc3luYyAoaWQ6IHN0cmluZyk6IFByb21pc2U8SVJlc3BvbnNlPFN0b2NrRGF0YT4+ID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgcmVxdWVzdC5nZXQoeyB1cmw6ICcvZ3JvdXAvZGV0YWlsJywgcGFyYW1zOiB7IGlkIH0gfSlcbiAgcmV0dXJuIHJlcyAmJiByZXMuZGF0YVxufVxuXG5leHBvcnQgY29uc3Qgcm1mU3RvY2tMaXN0QXBpID0gYXN5bmMgKGlkczogc3RyaW5nW10gfCBudW1iZXJbXSk6IFByb21pc2U8SVJlc3BvbnNlPiA9PiB7XG4gIGNvbnN0IGlkc1N0ciA9IGlkcy50b1N0cmluZygpXG4gIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QucG9zdCh7IHVybDogJy9zdG9ja3Mvcm1mJywgZGF0YTogeyBpZHM6IGlkc1N0ciB9IH0pXG4gIHJldHVybiByZXMgJiYgcmVzLmRhdGFcbn1cblxuZXhwb3J0IGNvbnN0IGRlbFN0b2NrTGlzdEFwaSA9IGFzeW5jIChpZHM6IHN0cmluZ1tdIHwgbnVtYmVyW10pOiBQcm9taXNlPElSZXNwb25zZT4gPT4ge1xuICBjb25zdCBpZHNTdHIgPSBpZHMudG9TdHJpbmcoKVxuICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0LnBvc3QoeyB1cmw6ICcvc3RvY2tzL2RlbCcsIGRhdGE6IHsgaWRzOiBpZHNTdHIgfSB9KVxuICByZXR1cm4gcmVzICYmIHJlcy5kYXRhXG59XG5cbmV4cG9ydCBjb25zdCByZWNTdG9ja0xpc3RBcGkgPSBhc3luYyAoaWRzOiBzdHJpbmdbXSB8IG51bWJlcltdKTogUHJvbWlzZTxJUmVzcG9uc2U+ID0+IHtcbiAgY29uc3QgaWRzU3RyID0gaWRzLnRvU3RyaW5nKClcbiAgY29uc3QgcmVzID0gYXdhaXQgcmVxdWVzdC5wb3N0KHsgdXJsOiAnL3N0b2Nrcy9yZWMnLCBkYXRhOiB7IGlkczogaWRzU3RyIH0gfSlcbiAgcmV0dXJuIHJlcyAmJiByZXMuZGF0YVxufVxuXG5leHBvcnQgY29uc3QgZ2V0Q2F0ZXNCeVVzZXJJZCA9IGFzeW5jICh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8SVJlc3BvbnNlPiA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QuZ2V0KHsgdXJsOiAnL2NhdGVnb3JpZXMvZ2V0Q2F0ZXNCeVVzZXJJZCcsIHBhcmFtczogeyB1c2VySWQ6IHVzZXJJZCB9IH0pXG4gIHJldHVybiByZXMgJiYgcmVzLmRhdGFcbn1cblxuZXhwb3J0IGNvbnN0IGdldENhdGVzQnlVc2VySWRDb2RlID0gYXN5bmMgKHVzZXJJZDogc3RyaW5nLCBjb2RlOiBzdHJpbmcpOiBQcm9taXNlPElSZXNwb25zZT4gPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0LmdldCh7XG4gICAgdXJsOiAnL2NhdGVnb3JpZXMvZ2V0Q2F0ZXNCeVVzZXJJZENvZGUnLFxuICAgIHBhcmFtczogeyB1c2VySWQ6IHVzZXJJZCwgY29kZTogY29kZSB9XG4gIH0pXG4gIHJldHVybiByZXMgJiYgcmVzLmRhdGFcbn1cblxuZXhwb3J0IGNvbnN0IGdldFN0b2NrQnlDb2RlID0gYXN5bmMgKGNvZGU6IHN0cmluZyk6IFByb21pc2U8SVJlc3BvbnNlPiA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QuZ2V0KHtcbiAgICB1cmw6ICcvc3RvY2tzL2dldFN0b2NrQnlDb2RlJyxcbiAgICBwYXJhbXM6IHsgY29kZTogY29kZSB9XG4gIH0pXG4gIHJldHVybiByZXMgJiYgcmVzLmRhdGFcbn1cbiIsIjxzY3JpcHQgc2V0dXAgbGFuZz1cInRzXCI+XG5pbXBvcnQgeyBDb250ZW50V3JhcCB9IGZyb20gJ0AvY29tcG9uZW50cy9Db250ZW50V3JhcCdcbmltcG9ydCB7IFNlYXJjaEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy9TZWFyY2hCdXR0b24nXG5pbXBvcnQgeyBEaWFsb2cgfSBmcm9tICdAL2NvbXBvbmVudHMvRGlhbG9nJ1xuaW1wb3J0IHsgdXNlSTE4biB9IGZyb20gJ0AvaG9va3Mvd2ViL3VzZUkxOG4nXG5pbXBvcnQgeyBFbEJ1dHRvbiwgRWxUYWcsIEVsTWVzc2FnZUJveCxFbE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXBsdXMnXG5pbXBvcnQgeyBUYWJsZSB9IGZyb20gJ0AvY29tcG9uZW50cy9UYWJsZSdcbmltcG9ydCB7XG4gIGdldFN0b2NrTGlzdEFwaSxcbiAgc2F2ZVN0b2NrQXBpLFxuICBkZWxTdG9ja0xpc3RBcGksXG4gIHJlY1N0b2NrTGlzdEFwaSxcbiAgcm1mU3RvY2tMaXN0QXBpLFxuICBnZXRDYXRlc0J5VXNlcklkLFxuICBnZXRDYXRlc0J5VXNlcklkQ29kZSxcbiAgZ2V0U3RvY2tCeUNvZGVcbn0gZnJvbSAnQC9hcGkvc3RvY2snXG5cbmltcG9ydCB7IHVzZVRhYmxlIH0gZnJvbSAnQC9ob29rcy93ZWIvdXNlVGFibGUnXG5pbXBvcnQgeyBTdG9ja0RhdGEgfSBmcm9tICdAL2FwaS9zdG9jay90eXBlcydcbmltcG9ydCB7IGgsIHJlZiwgdW5yZWYsIHJlYWN0aXZlIH0gZnJvbSAndnVlJ1xuaW1wb3J0IFdyaXRlIGZyb20gJy4vY29tcG9uZW50cy9Xcml0ZS52dWUnXG5pbXBvcnQgRGV0YWlsIGZyb20gJy4vY29tcG9uZW50cy9EZXRhaWwudnVlJ1xuaW1wb3J0IHsgQ3J1ZFNjaGVtYSwgdXNlQ3J1ZFNjaGVtYXMgfSBmcm9tICdAL2hvb2tzL3dlYi91c2VDcnVkU2NoZW1hcydcbmltcG9ydCB7IHVzZVJvdXRlIH0gZnJvbSAndnVlLXJvdXRlcidcbmltcG9ydCB7IHVzZUljb24gfSBmcm9tICdAL2hvb2tzL3dlYi91c2VJY29uJ1xuaW1wb3J0IHsgdXNlQ2FjaGUgfSBmcm9tICdAL2hvb2tzL3dlYi91c2VDYWNoZSdcbmltcG9ydCB7IHVzZUFwcFN0b3JlV2l0aE91dCB9IGZyb20gJ0Avc3RvcmUvbW9kdWxlcy9hcHAnXG5cbmNvbnN0IHJvdXRlID0gdXNlUm91dGUoKVxuLy8gY29uc3QgcUNvZGUgPSByb3V0ZS5xdWVyeS5jb2RlXG5cbi8vIGNvbnN0IG15VXNlcklkID0gcm91dGUucXVlcnkubXlVc2VySWQgYXMgc3RyaW5nXG5cbmNvbnNvbGUubG9nKCdyb3V0ZS5xdWVyeT09PT09PT09Jywgcm91dGUucXVlcnkpXG5cbmxldCBjYXRlSWQgPSByb3V0ZS5xdWVyeS5pZCBhcyB1bmtub3duIGFzIG51bWJlclxuY29uc3QgdXNlcklkID0gcm91dGUucXVlcnkudXNlcklkXG5jb25zdCBkZWxGbGFnMCA9IHJvdXRlLnF1ZXJ5LmRlbFxuY29uc3QgZnJvbSA9IHJvdXRlLnF1ZXJ5LmZyb21cbmNvbnN0IGluZElkID0gcm91dGUucXVlcnkuaW5kSWRcbmNvbnN0IHNpemUgPSByb3V0ZS5xdWVyeS5zaXplXG5cbmlmICghY2F0ZUlkKSB7XG4gIGNhdGVJZCA9IC0xXG59XG5cbmxldCBkZWxGbGFnID0gMFxuaWYgKGRlbEZsYWcwKSB7XG4gIGRlbEZsYWcgPSAxXG59XG5jb25zb2xlLmxvZygnZGVsRmxhZy0tLS0nLCBkZWxGbGFnKVxuY29uc3QgYXBwU3RvcmUgPSB1c2VBcHBTdG9yZVdpdGhPdXQoKVxuY29uc3QgeyB3c0NhY2hlIH0gPSB1c2VDYWNoZSgpXG5jb25zdCB1c2VySW5mbyA9IHdzQ2FjaGUuZ2V0KGFwcFN0b3JlLmdldFVzZXJJbmZvKVxuXG5jb25zdCBteVVzZXJJZCA9IHVzZXJJbmZvLmlkIGFzIHN0cmluZ1xuXG5jb25zb2xlLmxvZyhteVVzZXJJZCwgJz09PT09PT09JywgdXNlcklkKVxubGV0IG90aGVycyA9IHRydWVcbmlmICh1c2VySWQgPT0gbXlVc2VySWQpIHtcbiAgb3RoZXJzID0gZmFsc2Vcbn1cbi8vIGNvbnNvbGUubG9nKCd1c2VySW5mbz09PT0nLHVzZXJJbmZvKTtcbi8vIGNvbnNvbGUubG9nKCdyb3V0ZS5xdWVyeScscm91dGUucXVlcnkpXG5cbmNvbnN0IHsgcmVnaXN0ZXIsIHRhYmxlT2JqZWN0LCBtZXRob2RzIH0gPSB1c2VUYWJsZTxTdG9ja0RhdGE+KHtcbiAgZ2V0TGlzdEFwaTogZ2V0U3RvY2tMaXN0QXBpLFxuICBkZWxMaXN0QXBpOiBkZWxTdG9ja0xpc3RBcGksXG4gIHJlc3BvbnNlOiB7XG4gICAgbGlzdDogJ2xpc3QnLFxuICAgIHRvdGFsOiAndG90YWwnXG4gIH1cbn0pXG5cbmNvbnN0IHsgZ2V0TGlzdCwgc2V0U2VhcmNoUGFyYW1zIH0gPSBtZXRob2RzXG50YWJsZU9iamVjdC5wYXJhbXMuaWQgPSBjYXRlSWRcbnRhYmxlT2JqZWN0LnBhcmFtcy5kZWwgPSBkZWxGbGFnXG50YWJsZU9iamVjdC5wYXJhbXMudXNlcklkID0gbXlVc2VySWRcbnRhYmxlT2JqZWN0LnBhcmFtcy5mcm9tID0gZnJvbVxudGFibGVPYmplY3QucGFyYW1zLmluZElkID0gaW5kSWRcbnRhYmxlT2JqZWN0LnBhcmFtcy5zaXplID0gc2l6ZVxuXG5nZXRMaXN0KClcblxuY29uc3QgeyB0IH0gPSB1c2VJMThuKClcblxuY29uc3QgcGx1cyA9IHVzZUljb24oeyBpY29uOiAnYW50LWRlc2lnbjpwbHVzLW91dGxpbmVkJyB9KVxuY29uc3QgY2hhcnQgPSB1c2VJY29uKHsgaWNvbjogJ2ljb24tcGFyay1vdXRsaW5lOnN0b2NrLW1hcmtldCcgfSlcbmNvbnN0IGRlbCA9IHVzZUljb24oeyBpY29uOiAnZXA6ZGVsZXRlJyB9KVxubGV0IGVkaXQgPSB1c2VJY29uKHsgaWNvbjogJ2J4OmVkaXQnIH0pXG5pZiAoZGVsRmxhZyA9PSAxKSB7XG4gIGVkaXQgPSB1c2VJY29uKHsgaWNvbjogJ2ZhLXNvbGlkOnVuZG8nIH0pXG59XG5jb25zdCBhY3Rpb25UeXBlID0gcmVmKCcnKVxuY29uc3QgbXlDYXRlSWRzID0gcmVmKFtdKVxuY29uc3QgY29sb3JzID0gcmVmKFsnIzk5QTlCRicsICcjRjdCQTJBJywgJyNGRjk5MDAnXSlcblxuLy8gY29uc3QgdDEgPSByZWYoIDMgKVxuY29uc3QgZ2V0U3RvY2tJbmZvID0gYXN5bmMgKGNvZGU6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBnZXRTdG9ja0J5Q29kZShjb2RlKVxuICAgIC5jYXRjaCgoKSA9PiB7fSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBsb2FkaW5nLnZhbHVlID0gZmFsc2VcbiAgICB9KVxuICAvLyBjb25zb2xlLmxvZygnZ2V0Q2F0ZXM9PXJlcz09PT09JywgcmVzKVxuICBpZiAocmVzKSB7XG4gICAgbXlDYXRlcyA9IHJlcy5kYXRhXG4gICAgaWYgKHJlcy5kYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgIHRhYmxlT2JqZWN0LmN1cnJlbnRSb3chLmNhdGUzMyA9IHJlcy5kYXRhWzBdLmNhdGUzM1xuICAgICAgdGFibGVPYmplY3QuY3VycmVudFJvdyEubmFtZSA9IHJlcy5kYXRhWzBdLm5hbWVcbiAgICAgIHRhYmxlT2JqZWN0LmN1cnJlbnRSb3chLnNpemUgPSByZXMuZGF0YVswXS5zaXplXG4gICAgICB0YWJsZU9iamVjdC5jdXJyZW50Um93IS5jb2RlID0gcmVzLmRhdGFbMF0uY29kZVxuICAgIH1cbiAgfVxufVxuY29uc3QgY3J1ZFNjaGVtYXMgPSByZWFjdGl2ZTxDcnVkU2NoZW1hW10+KFtcbiAge1xuICAgIGZpZWxkOiAnY29kZScsXG4gICAgbGFiZWw6IHQoJ3N0b2NrLmNvZGUnKSxcbiAgICB0eXBlOiAnY291bnQnLFxuICAgIHNlYXJjaDoge1xuICAgICAgc2hvdzogdHJ1ZVxuICAgIH0sXG4gICAgLy8gdHlwZTogJ2luZGV4JyxcbiAgICBmb3JtOiB7XG4gICAgICBjb21wb25lbnRQcm9wczoge1xuICAgICAgICByZWFkb25seTogdHJ1ZSxcbiAgICAgICAgb25DaGFuZ2U6IGdldFN0b2NrSW5mb1xuICAgICAgfSxcbiAgICAgIGNvbFByb3BzOiB7XG4gICAgICAgIHNwYW46IDEyXG4gICAgICB9XG4gICAgfSxcbiAgICBkZXRhaWw6IHtcbiAgICAgIHNob3c6IGZhbHNlXG4gICAgfVxuICB9LFxuICB7XG4gICAgZmllbGQ6ICduYW1lJyxcbiAgICBsYWJlbDogdCgnc3RvY2submFtZScpLFxuICAgIHNlYXJjaDoge1xuICAgICAgc2hvdzogdHJ1ZVxuICAgIH0sXG4gICAgZm9ybToge1xuICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgIGNvbXBvbmVudFByb3BzOiB7XG4gICAgICAgIHJlYWRvbmx5OiB0cnVlXG4gICAgICB9LFxuICAgICAgY29sUHJvcHM6IHtcbiAgICAgICAgc3BhbjogMTJcbiAgICAgIH1cbiAgICB9LFxuICAgIGRldGFpbDoge1xuICAgICAgc3BhbjogMTJcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBmaWVsZDogJ2NhdGUzMycsXG4gICAgbGFiZWw6IHQoJ3N0b2NrLmluZHVzdHJ5JyksXG4gICAgc2VhcmNoOiB7XG4gICAgICBzaG93OiBmYWxzZVxuICAgIH0sXG4gICAgZm9ybToge1xuICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgIGNvbXBvbmVudFByb3BzOiB7XG4gICAgICAgIHJlYWRvbmx5OiB0cnVlXG4gICAgICB9LFxuICAgICAgY29sUHJvcHM6IHtcbiAgICAgICAgc3BhbjogMTJcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHtcbiAgICBmaWVsZDogJ3NpemUnLFxuICAgIGxhYmVsOiB0KCdzdG9jay5zaXplJyksXG4gICAgdGFibGU6IHtcbiAgICAgIHNob3c6IHRydWVcbiAgICB9LFxuICAgIGZvcm06IHtcbiAgICAgIHNob3c6IHRydWUsXG4gICAgICBjb21wb25lbnRQcm9wczoge1xuICAgICAgICByZWFkb25seTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGNvbFByb3BzOiB7XG4gICAgICAgIHNwYW46IDEyXG4gICAgICB9XG4gICAgfVxuICB9LFxuICB7XG4gICAgZmllbGQ6ICdwYXR0ZXJuJyxcbiAgICB0YWJsZTogeyBzaG93OiBmcm9tICE9ICdpbmR1c3RyeScgfSxcbiAgICBzZWFyY2g6IHtcbiAgICAgIC8vIHNob3c6IGZyb20hPSdpbmR1c3RyeScsXG4gICAgICBzaG93OiBmYWxzZSxcbiAgICAgIGNvbXBvbmVudDogJ1NlbGVjdCcsXG4gICAgICBjb21wb25lbnRQcm9wczoge1xuICAgICAgICByZWFkb25seTogZmFsc2UsXG4gICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBsYWJlbDogdCgnc3RvY2suaGVhZFNob3VsZGVyJyksXG4gICAgICAgICAgICB2YWx1ZTogJzEnXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBsYWJlbDogdCgnc3RvY2suZ2V0aW5nQ2hpcHMnKSxcbiAgICAgICAgICAgIHZhbHVlOiAnMidcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGxhYmVsOiB0KCdzdG9jay5zdGFycycpLFxuICAgICAgICAgICAgdmFsdWU6ICczJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgbGFiZWw6IHQoJ3N0b2NrLmdhcCcpLFxuICAgICAgICAgICAgdmFsdWU6ICc0J1xuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgbGFiZWw6IHQoJ3N0b2NrLm90aGVycycpLFxuICAgICAgICAgICAgdmFsdWU6ICc1J1xuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0sXG4gICAgbGFiZWw6IHQoJ3N0b2NrLnBhdHRlcm4nKSxcbiAgICBmb3JtYXR0ZXI6IChfOiBSZWNvcmRhYmxlLCBfXzogVGFibGVDb2x1bW4sIGNlbGxWYWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgICByZXR1cm4gaChcbiAgICAgICAgRWxUYWcsXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOlxuICAgICAgICAgICAgY2VsbFZhbHVlID09PSAnMSdcbiAgICAgICAgICAgICAgPyAnc3VjY2VzcydcbiAgICAgICAgICAgICAgOiBjZWxsVmFsdWUgPT09ICcyJ1xuICAgICAgICAgICAgICA/ICd3YXJuaW5nJ1xuICAgICAgICAgICAgICA6IGNlbGxWYWx1ZSA9PT0gJzMnXG4gICAgICAgICAgICAgID8gJ2RhbmdlcidcbiAgICAgICAgICAgICAgOiBjZWxsVmFsdWUgPT09ICc0J1xuICAgICAgICAgICAgICA/ICdpbmZvJ1xuICAgICAgICAgICAgICA6ICcnXG4gICAgICAgIH0sXG4gICAgICAgICgpID0+XG4gICAgICAgICAgY2VsbFZhbHVlID09PSAnMSdcbiAgICAgICAgICAgID8gdCgnc3RvY2suaGVhZFNob3VsZGVyJylcbiAgICAgICAgICAgIDogY2VsbFZhbHVlID09PSAnMidcbiAgICAgICAgICAgID8gdCgnc3RvY2suZ2V0aW5nQ2hpcHMnKVxuICAgICAgICAgICAgOiBjZWxsVmFsdWUgPT09ICczJ1xuICAgICAgICAgICAgPyB0KCdzdG9jay5zdGFycycpXG4gICAgICAgICAgICA6IGNlbGxWYWx1ZSA9PT0gJzQnXG4gICAgICAgICAgICA/IHQoJ3N0b2NrLmdhcCcpXG4gICAgICAgICAgICA6IHQoJ3N0b2NrLm90aGVycycpXG4gICAgICApXG4gICAgfSxcbiAgICBmb3JtOiB7XG4gICAgICBjb2xQcm9wczoge1xuICAgICAgICBzcGFuOiAxMlxuICAgICAgfSxcbiAgICAgIGNvbXBvbmVudDogJ1NlbGVjdCcsXG4gICAgICBjb21wb25lbnRQcm9wczoge1xuICAgICAgICBkaXNhYmxlZDogZmFsc2UgLCAvLyBteVVzZXJJZCAhPSB1c2VySWQsXG4gICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBsYWJlbDogdCgnc3RvY2suaGVhZFNob3VsZGVyJyksXG4gICAgICAgICAgICB2YWx1ZTogJzEnXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBsYWJlbDogdCgnc3RvY2suZ2V0aW5nQ2hpcHMnKSxcbiAgICAgICAgICAgIHZhbHVlOiAnMidcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGxhYmVsOiB0KCdzdG9jay5zdGFycycpLFxuICAgICAgICAgICAgdmFsdWU6ICczJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgbGFiZWw6IHQoJ3N0b2NrLmdhcCcpLFxuICAgICAgICAgICAgdmFsdWU6ICc0J1xuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgbGFiZWw6IHQoJ3N0b2NrLm90aGVycycpLFxuICAgICAgICAgICAgdmFsdWU6ICc1J1xuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAge1xuICAgIGZpZWxkOiAnc2NvcmUnLFxuICAgIHR5cGU6ICdjb3VudCcsXG4gICAgbGFiZWw6IHQoJ3N0b2NrLnJhdGUnKSxcbiAgICB0YWJsZTogeyBzaG93OiBmcm9tICE9ICdpbmR1c3RyeScgfSxcbiAgICBmb3JtYXR0ZXI6IChfOiBSZWNvcmRhYmxlLCBfXzogVGFibGVDb2x1bW4sIGNlbGxWYWx1ZTogbnVtYmVyKSA9PiB7XG4gICAgICByZXR1cm4gaChcbiAgICAgICAgRWxUYWcsXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOlxuICAgICAgICAgICAgY2VsbFZhbHVlID09PSAwIHx8ICFjZWxsVmFsdWVcbiAgICAgICAgICAgICAgPyAnaW5mbydcbiAgICAgICAgICAgICAgOiBjZWxsVmFsdWUgPT09IDFcbiAgICAgICAgICAgICAgPyAnZGFuZ2VyJ1xuICAgICAgICAgICAgICA6IGNlbGxWYWx1ZSA9PT0gMlxuICAgICAgICAgICAgICA/ICdkYW5nZXInXG4gICAgICAgICAgICAgIDogY2VsbFZhbHVlID09PSAzXG4gICAgICAgICAgICAgID8gJ3dhcm5pbmcnXG4gICAgICAgICAgICAgIDogY2VsbFZhbHVlID09PSA0XG4gICAgICAgICAgICAgID8gJydcbiAgICAgICAgICAgICAgOiAnc3VjY2VzcycsXG4gICAgICAgICAgZWZmZWN0OiBjZWxsVmFsdWUgPyAnZGFyaycgOiAnbGlnaHQnLFxuICAgICAgICAgIHJvdW5kOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IGNlbGxWYWx1ZSAvLyBjZWxsVmFsdWVcbiAgICAgIClcbiAgICB9LFxuICAgIGZvcm06IHtcbiAgICAgIGNvbXBvbmVudDogJ1JhdGUnLFxuICAgICAgY29tcG9uZW50UHJvcHM6IHtcbiAgICAgICAgcmVhZG9ubHk6IG90aGVycyxcbiAgICAgICAgY29sb3JzOiBjb2xvcnMsXG4gICAgICAgIHNpemU6ICdsYXJnZSdcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHtcbiAgICBmaWVsZDogJ2NyZWF0ZWRfYXQnLFxuICAgIGxhYmVsOiB0KCdzdG9jay5jcmVhdGVfYXQnKSxcbiAgICB0YWJsZTogeyBzaG93OiBmcm9tICE9ICdpbmR1c3RyeScgfSxcbiAgICBmb3JtOiB7XG4gICAgICBzaG93OiBmYWxzZVxuICAgIH1cbiAgICAvLyBmb3JtOiB7XG4gICAgLy8gICBjb21wb25lbnQ6ICdEYXRlUGlja2VyJyxcbiAgICAvLyAgIGNvbXBvbmVudFByb3BzOiB7XG4gICAgLy8gICAgIHR5cGU6ICdkYXRldGltZScsXG4gICAgLy8gICAgIHZhbHVlRm9ybWF0OiAnWVlZWS1NTS1ERCBISDptbTpzcydcbiAgICAvLyAgIH1cbiAgICAvLyB9XG4gIH0sXG4gIHtcbiAgICBmaWVsZDogJ2NhdGVnb3J5X2lkcycsXG4gICAgbGFiZWw6IHQoJ3N0b2NrLnNhdmVfYXNfYmxvY2snKSxcbiAgICB0YWJsZToge1xuICAgICAgc2hvdzogZmFsc2VcbiAgICB9LFxuICAgIGZvcm06IHtcbiAgICAgIGNvbFByb3BzOiB7XG4gICAgICAgIHNwYW46IDI0XG4gICAgICB9LFxuICAgICAgY29tcG9uZW50OiAnQ2hlY2tib3hCdXR0b24nLFxuICAgICAgdmFsdWU6IFtdLFxuICAgICAgY29tcG9uZW50UHJvcHM6IHtcbiAgICAgICAgb3B0aW9uczogW11cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHtcbiAgICBmaWVsZDogJ25ld0NhdGVOYW1lJyxcbiAgICBsYWJlbDogdCgnc3RvY2submV3R3JvdXAnKSxcbiAgICB0YWJsZToge1xuICAgICAgc2hvdzogZmFsc2VcbiAgICB9LFxuICAgIGZvcm06IHtcbiAgICAgIHNob3c6IHRydWUsXG4gICAgICBjb21wb25lbnQ6ICdJbnB1dCcsXG4gICAgICBjb21wb25lbnRQcm9wczoge1xuICAgICAgICAvL3JlYWRvbmx5OiBvdGhlcnMsXG4gICAgICAgIC8vIHJvd3M6IDEwXG4gICAgICB9XG4gICAgfVxuICB9LFxuICB7XG4gICAgZmllbGQ6ICdjYXRlTmFtZScsXG4gICAgbGFiZWw6IHQoJ3N0b2NrLnRoZUdyb3VwJyksXG4gICAgdGFibGU6IHtcbiAgICAgIHNob3c6IGRlbEZsYWcgPT0gMVxuICAgIH0sXG4gICAgZm9ybToge1xuICAgICAgc2hvdzogZmFsc2UsXG4gICAgICBjb21wb25lbnQ6ICdJbnB1dCcsXG4gICAgICBjb21wb25lbnRQcm9wczoge1xuICAgICAgICAvL3JlYWRvbmx5OiBvdGhlcnMsXG4gICAgICAgIC8vIHJvd3M6IDEwXG4gICAgICB9XG4gICAgfVxuICB9LFxuICB7XG4gICAgZmllbGQ6ICdyZW1hcmsnLFxuICAgIGxhYmVsOiB0KCdncm91cC5yZW1hcmsnKSxcbiAgICB0YWJsZToge1xuICAgICAgc2hvdzogZmFsc2VcbiAgICB9LFxuICAgIGZvcm06IHtcbiAgICAgIGNvbXBvbmVudDogJ0lucHV0JyxcbiAgICAgIGNvbXBvbmVudFByb3BzOiB7XG4gICAgICAgIHJlYWRvbmx5OiBmYWxzZSwvLyBvdGhlcnMsXG4gICAgICAgIHR5cGU6ICd0ZXh0YXJlYScsXG4gICAgICAgIHJvd3M6IDEwXG4gICAgICB9LFxuICAgICAgY29sUHJvcHM6IHtcbiAgICAgICAgc3BhbjogMjRcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHtcbiAgICBmaWVsZDogJ2FjdGlvbicsXG4gICAgd2lkdGg6ICcyNjBweCcsXG4gICAgbGFiZWw6IHQoJ3N0b2NrLmFjdGlvbicpLFxuICAgIGZvcm06IHtcbiAgICAgIHNob3c6IGZhbHNlXG4gICAgfSxcbiAgICBkZXRhaWw6IHtcbiAgICAgIHNob3c6IGZhbHNlXG4gICAgfVxuICB9XG5dKVxuXG5sZXQgbXlDYXRlcyA9IHJlYWN0aXZlPENvbXBvbmVudE9wdGlvbnNbXT4oW10pXG5cbmNvbnN0IGdldENhdGVzID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBnZXRDYXRlc0J5VXNlcklkKG15VXNlcklkKVxuICAgIC5jYXRjaCgoKSA9PiB7fSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBsb2FkaW5nLnZhbHVlID0gZmFsc2VcbiAgICB9KVxuICAvLyBjb25zb2xlLmxvZygnZ2V0Q2F0ZXM9PXJlcy5kYXRhPT09PT0nLCByZXMuZGF0YSlcbiAgaWYgKHJlcykge1xuICAgIG15Q2F0ZXMgPSByZXMuZGF0YVxuICAgIGxldCBpZHMgPSBbXVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlkcy5wdXNoKHJlcy5kYXRhW2ldLnZhbHVlIGFzIG5ldmVyKVxuICAgIH1cbiAgICBteUNhdGVJZHMudmFsdWUgPSBpZHNcbiAgICAvLyBjb25zb2xlLmxvZyhteUNhdGVzLCBteUNhdGVJZHMudmFsdWUpXG5cbiAgICBpZiAoY3J1ZFNjaGVtYXMubGVuZ3RoID49IDgpIHtcbiAgICAgIGNydWRTY2hlbWFzWzddIS5mb3JtIS5jb21wb25lbnRQcm9wcyEub3B0aW9ucyA9IG15Q2F0ZXNcbiAgICB9XG4gIH1cbn1cblxuZ2V0Q2F0ZXMoKVxuY29uc3QgbXlDYXRlc09mY29kZSA9IHJlZihbXSlcblxuY29uc3QgZ2V0Q2F0ZXNCeUNvZGUgPSBhc3luYyAodXNlcklkOiBzdHJpbmcsIGNvZGU6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBnZXRDYXRlc0J5VXNlcklkQ29kZSh1c2VySWQsIGNvZGUpXG4gICAgLmNhdGNoKCgpID0+IHt9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGxvYWRpbmcudmFsdWUgPSBmYWxzZVxuICAgIH0pXG4gIC8vIGNvbnNvbGUubG9nKCdnZXRDYXRlcz09cmVzPT09PT0nLCByZXMpXG4gIGlmIChyZXMpIHtcbiAgICBteUNhdGVzID0gcmVzLmRhdGFcbiAgICBsZXQgaWRzID0gW11cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZHMucHVzaChyZXMuZGF0YVtpXS52YWx1ZSBhcyBuZXZlcilcbiAgICB9XG4gICAgbXlDYXRlc09mY29kZS52YWx1ZSA9IGlkc1xuICAgIHRhYmxlT2JqZWN0IS5jdXJyZW50Um93IS5jYXRlZ29yeV9pZHMgPSBteUNhdGVzT2Zjb2RlLnZhbHVlXG4gICAgLy9jb25zb2xlLmxvZyhteUNhdGVzLG15Q2F0ZUlkcy52YWx1ZSlcbiAgfVxufVxuXG5jb25zdCBhY3Rpb24gPSBhc3luYyAocm93OiBTdG9ja0RhdGEsIHR5cGU6IHN0cmluZykgPT4ge1xuICBjb25zb2xlLmxvZygnYWN0aW9uX2RlbGZsYWc9PT09JywgZGVsRmxhZylcblxuICBpZiAoZGVsRmxhZyA9PSAxKSB7XG4gICAgY29uc29sZS5sb2coJ25vdyBpcyBpbiB0cmFzaCA7IERvIHJlY292ZXInKVxuICAgIGF3YWl0IHJlY0RhdGEocm93LCBmYWxzZSlcbiAgICBnZXRMaXN0KClcbiAgfSBlbHNlIHtcbiAgICBnZXRDYXRlcygpXG4gICAgZGlhbG9nVGl0bGUudmFsdWUgPSB0KHR5cGUgPT09ICdlZGl0JyA/ICdleGFtcGxlRGVtby5lZGl0JyA6ICdleGFtcGxlRGVtby5kZXRhaWwnKVxuICAgIGFjdGlvblR5cGUudmFsdWUgPSB0eXBlXG4gICAgaWYgKGNydWRTY2hlbWFzLmxlbmd0aCA+PSAxKSB7XG4gICAgICBjcnVkU2NoZW1hc1swXSEuZm9ybSEuY29tcG9uZW50UHJvcHMhLnJlYWRvbmx5ID0gdHJ1ZVxuICAgIH1cbiAgICBcbiAgICB0YWJsZU9iamVjdC5jdXJyZW50Um93ID0gcm93XG4gICAgZ2V0Q2F0ZXNCeUNvZGUobXlVc2VySWQsIHJvdy5jb2RlKVxuICAgIGRpYWxvZ1Zpc2libGUudmFsdWUgPSB0cnVlXG4gIH1cbn1cbmNvbnN0IGFkZEFjdGlvbiA9ICgpID0+IHtcbiAgaWYgKGNydWRTY2hlbWFzLmxlbmd0aCA+PSAxKSB7XG4gICAgY3J1ZFNjaGVtYXNbMF0hLmZvcm0hLmNvbXBvbmVudFByb3BzIS5yZWFkb25seSA9IGZhbHNlXG4gIH1cbiAgZGlhbG9nVGl0bGUudmFsdWUgPSB0KCdleGFtcGxlRGVtby5hZGQnKVxuICBhY3Rpb25UeXBlLnZhbHVlID0gJ2VkaXQnXG5cbiAgdGFibGVPYmplY3QuY3VycmVudFJvdyA9IHtcbiAgICBpZDogTmFOLFxuICAgIG5hbWU6ICcnLFxuICAgIGNhdGUzMzogJycsXG4gICAgY29kZTogJycsXG4gICAgdXNlcl9pZDogbXlVc2VySWQsXG4gICAgY2F0ZWdvcnlfaWQ6ICtjYXRlSWQsXG4gICAgcGF0dGVybjogJycsXG4gICAgbWFya2V0OiAnJyxcbiAgICByZW1hcms6ICcnLFxuICAgIGNyZWF0ZWRfYXQ6ICcnLFxuICAgIGNhdGVnb3J5X2lkczogWytjYXRlSWRdLFxuICAgIHNjb3JlOiAwLFxuICAgIHNpemU6ICcnLFxuICAgIGNhdGVOYW1lOiAnJyxcbiAgICBuZXdDYXRlTmFtZTogJycsXG4gIH1cbiAgZGlhbG9nVmlzaWJsZS52YWx1ZSA9IHRydWVcbn1cblxuY29uc3QgeyBhbGxTY2hlbWFzIH0gPSB1c2VDcnVkU2NoZW1hcyhjcnVkU2NoZW1hcylcblxuY29uc3QgZGlhbG9nVmlzaWJsZSA9IHJlZihmYWxzZSlcblxuY29uc3QgZGlhbG9nVGl0bGUgPSByZWYoJycpXG5cbmNvbnN0IG9wZW5UdiA9IChyb3cpID0+IHtcbiAgd2luZG93Lm9wZW4oJ2h0dHBzOi8vd3d3LnRyYWRpbmd2aWV3LmNvbS9jaGFydC9DRlNFQVcxTC8/c3ltYm9sPVRTRSUzQScgKyByb3cuY29kZSwgJ19ibGFuaycpXG59XG5jb25zdCBkZWxMb2FkaW5nID0gcmVmKGZhbHNlKVxuXG5jb25zdCBkZWxEYXRhID0gYXN5bmMgKHJvdzogU3RvY2tEYXRhIHwgbnVsbCwgbXVsdGlwbGU6IGJvb2xlYW4sIGRlbEZsYWc6IG51bWJlcikgPT4ge1xuICB0YWJsZU9iamVjdC5jdXJyZW50Um93ID0gcm93XG4gIGNvbnN0IHsgZGVsTGlzdCwgZ2V0U2VsZWN0aW9ucyB9ID0gbWV0aG9kc1xuICBjb25zdCBzZWxlY3Rpb25zID0gYXdhaXQgZ2V0U2VsZWN0aW9ucygpXG5cbiAgLy8gY29uc29sZS5sb2coJ3NlbGVjdGlvbnMnLHNlbGVjdGlvbnMubGVuZ3RoKTtyZXR1cm5cbiAgaWYgKG11bHRpcGxlICYmIHNlbGVjdGlvbnMubGVuZ3RoID09IDApIHtcbiAgICByZXR1cm5cbiAgfVxuICBkZWxMb2FkaW5nLnZhbHVlID0gdHJ1ZVxuICBpZiAoZGVsRmxhZyA9PSAxKSB7XG4gICAgRWxNZXNzYWdlQm94LmNvbmZpcm0odCgnY29tbW9uLmRlbE1lc3NhZ2UnKSwgdCgnY29tbW9uLmRlbFdhcm5pbmcnKSwge1xuICAgICAgY29uZmlybUJ1dHRvblRleHQ6IHQoJ2NvbW1vbi5kZWxPaycpLFxuICAgICAgY2FuY2VsQnV0dG9uVGV4dDogdCgnY29tbW9uLmRlbENhbmNlbCcpLFxuICAgICAgdHlwZTogJ3dhcm5pbmcnXG4gICAgfSkudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBybWZTdG9ja0xpc3RBcGkoXG4gICAgICAgIG11bHRpcGxlID8gc2VsZWN0aW9ucy5tYXAoKHYpID0+IHYuaWQpIDogW3RhYmxlT2JqZWN0LmN1cnJlbnRSb3c/LmlkIGFzIG51bWJlcl0gLy8gLG11bHRpcGxlXG4gICAgICApLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBkZWxMb2FkaW5nLnZhbHVlID0gZmFsc2VcbiAgICAgICAgZ2V0TGlzdCgpXG4gICAgICB9KVxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgYXdhaXQgZGVsTGlzdChcbiAgICAgIG11bHRpcGxlID8gc2VsZWN0aW9ucy5tYXAoKHYpID0+IHYuaWQpIDogW3RhYmxlT2JqZWN0LmN1cnJlbnRSb3c/LmlkIGFzIG51bWJlcl0sXG4gICAgICBtdWx0aXBsZVxuICAgICkuZmluYWxseSgoKSA9PiB7XG4gICAgICBkZWxMb2FkaW5nLnZhbHVlID0gZmFsc2VcbiAgICAgIGdldExpc3QoKVxuICAgIH0pXG4gIH1cbn1cblxuY29uc3QgcmVjRGF0YSA9IGFzeW5jIChyb3c6IFN0b2NrRGF0YSB8IG51bGwsIG11bHRpcGxlOiBib29sZWFuKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdyZWNEYXRhPT09PT09PT09PScpXG4gIHRhYmxlT2JqZWN0LmN1cnJlbnRSb3cgPSByb3dcbiAgY29uc3QgeyBnZXRTZWxlY3Rpb25zIH0gPSBtZXRob2RzXG4gIGNvbnN0IHNlbGVjdGlvbnMgPSBhd2FpdCBnZXRTZWxlY3Rpb25zKClcblxuICBpZiAobXVsdGlwbGUgJiYgc2VsZWN0aW9ucy5sZW5ndGggPT0gMCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgZGVsTG9hZGluZy52YWx1ZSA9IHRydWVcblxuICBhd2FpdCByZWNTdG9ja0xpc3RBcGkoXG4gICAgbXVsdGlwbGUgPyBzZWxlY3Rpb25zLm1hcCgodikgPT4gdi5pZCkgOiBbdGFibGVPYmplY3QuY3VycmVudFJvdz8uaWQgYXMgbnVtYmVyXSAvLyAsbXVsdGlwbGVcbiAgKS5maW5hbGx5KCgpID0+IHtcbiAgICBkZWxMb2FkaW5nLnZhbHVlID0gZmFsc2VcbiAgICBnZXRMaXN0KClcbiAgfSlcbn1cblxuY29uc3Qgd3JpdGVSZWYgPSByZWY8Q29tcG9uZW50UmVmPHR5cGVvZiBXcml0ZT4+KClcblxuY29uc3QgbG9hZGluZyA9IHJlZihmYWxzZSlcblxuY29uc3Qgc2F2ZSA9IGFzeW5jICgpID0+IHtcbiAgY29uc3Qgd3JpdGUgPSB1bnJlZih3cml0ZVJlZilcbiAgYXdhaXQgd3JpdGU/LmVsRm9ybVJlZj8udmFsaWRhdGUoYXN5bmMgKGlzVmFsaWQpID0+IHtcbiAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgLy8gbG9hZGluZy52YWx1ZSA9IHRydWVcbiAgICAgIGNvbnN0IGRhdGEgPSAoYXdhaXQgd3JpdGU/LmdldEZvcm1EYXRhKCkpIGFzIFN0b2NrRGF0YVxuICAgICAgZGF0YS51c2VyX2lkID0gbXlVc2VySWRcbiAgICAgIGlmKCBkYXRhLmNhdGVnb3J5X2lkcy5sZW5ndGg9PTAgJiYgZGF0YS5uZXdDYXRlTmFtZT09Jycpe1xuICAgICAgICBFbE1lc3NhZ2Uud2FybmluZyh0KCdzdG9jay5tc2dHcm91cE51bGwnKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYoICFkYXRhLmNhdGVnb3J5X2lkICl7XG4gICAgICAgIGRhdGEuY2F0ZWdvcnlfaWQ9LTFcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKCdzdG9ja1NhdmU9PT09JywgZGF0YSkgOyAvL3JldHVybiBmYWxzZSA7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBzYXZlU3RvY2tBcGkoZGF0YSlcbiAgICAgICAgLmNhdGNoKCgpID0+IHt9KVxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgbG9hZGluZy52YWx1ZSA9IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICBpZiAocmVzKSB7XG4gICAgICAgIGRpYWxvZ1Zpc2libGUudmFsdWUgPSBmYWxzZVxuICAgICAgICB0YWJsZU9iamVjdC5jdXJyZW50UGFnZSA9IDFcbiAgICAgICAgZ2V0TGlzdCgpXG4gICAgICB9XG4gICAgfVxuICB9KVxufVxuPC9zY3JpcHQ+XG5cbjx0ZW1wbGF0ZT5cbiAgPENvbnRlbnRXcmFwPlxuICAgIDxkaXYgY2xhc3M9XCJtYi0xMHB4IGZsb2F0LWxlZnRcIj5cbiAgICAgIDxFbEJ1dHRvblxuICAgICAgICB2LWlmPVwiZGVsRmxhZyAhPSAxXCJcbiAgICAgICAgOmRpc2FibGVkPVwib3RoZXJzIHx8IGRlbEZsYWcgPT0gMVwiXG4gICAgICAgIDppY29uPVwicGx1c1wiXG4gICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgQGNsaWNrPVwiYWRkQWN0aW9uKClcIlxuICAgICAgLz5cblxuICAgICAgPEVsQnV0dG9uIHYtaWY9XCJkZWxGbGFnID09IDFcIiA6aWNvbj1cImVkaXRcIiB0eXBlPVwicHJpbWFyeVwiIEBjbGljaz1cInJlY0RhdGEobnVsbCwgdHJ1ZSlcIiAvPlxuXG4gICAgICA8RWxCdXR0b25cbiAgICAgICAgOmRpc2FibGVkPVwib3RoZXJzICYmIGRlbEZsYWcgPT0gMFwiXG4gICAgICAgIDppY29uPVwiZGVsXCJcbiAgICAgICAgOmxvYWRpbmc9XCJkZWxMb2FkaW5nXCJcbiAgICAgICAgdHlwZT1cImRhbmdlclwiXG4gICAgICAgIEBjbGljaz1cImRlbERhdGEobnVsbCwgdHJ1ZSwgZGVsRmxhZylcIlxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgICA8U2VhcmNoQnV0dG9uXG4gICAgICA6c2NoZW1hPVwiYWxsU2NoZW1hcy5zZWFyY2hTY2hlbWFcIlxuICAgICAgQHNlYXJjaD1cInNldFNlYXJjaFBhcmFtc1wiXG4gICAgICBAcmVzZXQ9XCJzZXRTZWFyY2hQYXJhbXNcIlxuICAgIC8+XG5cbiAgICA8VGFibGVcbiAgICAgIHYtbW9kZWw6cGFnZVNpemU9XCJ0YWJsZU9iamVjdC5wYWdlU2l6ZVwiXG4gICAgICB2LW1vZGVsOmN1cnJlbnRQYWdlPVwidGFibGVPYmplY3QuY3VycmVudFBhZ2VcIlxuICAgICAgOmNvbHVtbnM9XCJhbGxTY2hlbWFzLnRhYmxlQ29sdW1uc1wiXG4gICAgICA6ZGF0YT1cInRhYmxlT2JqZWN0LnRhYmxlTGlzdFwiXG4gICAgICA6bG9hZGluZz1cInRhYmxlT2JqZWN0LmxvYWRpbmdcIlxuICAgICAgOnBhZ2luYXRpb249XCJ7XG4gICAgICAgIHRvdGFsOiB0YWJsZU9iamVjdC50b3RhbFxuICAgICAgfVwiXG4gICAgICBAcmVnaXN0ZXI9XCJyZWdpc3RlclwiXG4gICAgPlxuICAgICAgPHRlbXBsYXRlICNhY3Rpb249XCJ7IHJvdyB9XCI+XG4gICAgICAgIDxFbEJ1dHRvbiA6aWNvbj1cImNoYXJ0XCIgdHlwZT1cInN1Y2Nlc3NcIiBAY2xpY2s9XCJvcGVuVHYocm93KVwiIC8+XG5cbiAgICAgICAgPEVsQnV0dG9uIDppY29uPVwiZWRpdFwiIHR5cGU9XCJwcmltYXJ5XCIgQGNsaWNrPVwiYWN0aW9uKHJvdywgJ2VkaXQnKVwiIC8+XG5cbiAgICAgICAgPEVsQnV0dG9uXG4gICAgICAgICAgOmRpc2FibGVkPVwib3RoZXJzICYmIGRlbEZsYWcgPT0gMFwiXG4gICAgICAgICAgOmljb249XCJkZWxcIlxuICAgICAgICAgIHR5cGU9XCJkYW5nZXJcIlxuICAgICAgICAgIEBjbGljaz1cImRlbERhdGEocm93LCBmYWxzZSwgZGVsRmxhZylcIlxuICAgICAgICAvPlxuICAgICAgPC90ZW1wbGF0ZT5cbiAgICA8L1RhYmxlPlxuICA8L0NvbnRlbnRXcmFwPlxuXG4gIDxEaWFsb2cgdi1tb2RlbD1cImRpYWxvZ1Zpc2libGVcIiA6dGl0bGU9XCJkaWFsb2dUaXRsZVwiPlxuICAgIDxXcml0ZVxuICAgICAgdi1pZj1cImFjdGlvblR5cGUgPT09ICdlZGl0J1wiXG4gICAgICByZWY9XCJ3cml0ZVJlZlwiXG4gICAgICA6Zm9ybS1zY2hlbWE9XCJhbGxTY2hlbWFzLmZvcm1TY2hlbWFcIlxuICAgICAgOmN1cnJlbnQtcm93PVwidGFibGVPYmplY3QuY3VycmVudFJvd1wiXG4gICAgLz5cblxuICAgIDxEZXRhaWxcbiAgICAgIHYtaWY9XCJhY3Rpb25UeXBlID09PSAnZGV0YWlsJ1wiXG4gICAgICA6ZGV0YWlsLXNjaGVtYT1cImFsbFNjaGVtYXMuZGV0YWlsU2NoZW1hXCJcbiAgICAgIDpjdXJyZW50LXJvdz1cInRhYmxlT2JqZWN0LmN1cnJlbnRSb3dcIlxuICAgIC8+XG5cbiAgICA8dGVtcGxhdGUgI2Zvb3Rlcj5cbiAgICAgIDxFbEJ1dHRvbiB2LWlmPVwiYWN0aW9uVHlwZSAhPT0gJ2RldGFpbCdcIiB0eXBlPVwicHJpbWFyeVwiIDpsb2FkaW5nPVwibG9hZGluZ1wiIEBjbGljaz1cInNhdmVcIj5cbiAgICAgICAge3sgdCgnc3RvY2suc2F2ZScpIH19XG4gICAgICA8L0VsQnV0dG9uPlxuICAgICAgPEVsQnV0dG9uIEBjbGljaz1cImRpYWxvZ1Zpc2libGUgPSBmYWxzZVwiPnt7IHQoJ3N0b2NrLmNhbmNlbCcpIH19PC9FbEJ1dHRvbj5cbiAgICA8L3RlbXBsYXRlPlxuICA8L0RpYWxvZz5cbjwvdGVtcGxhdGU+XG4iXSwibmFtZXMiOlsicmVxdWVzdCIsInVzZUF4aW9zIiwiZ2V0U3RvY2tMaXN0QXBpIiwiYXN5bmMiLCJwYXJhbXMiLCJyZXMiLCJnZXQiLCJ1cmwiLCJpZCIsImRhdGEiLCJkZWxTdG9ja0xpc3RBcGkiLCJpZHMiLCJpZHNTdHIiLCJ0b1N0cmluZyIsInBvc3QiLCJyb3V0ZSIsInVzZVJvdXRlIiwiY29uc29sZSIsImxvZyIsInF1ZXJ5IiwiY2F0ZUlkIiwidXNlcklkIiwiZGVsRmxhZzAiLCJkZWwiLCJmcm9tIiwiaW5kSWQiLCJzaXplIiwiZGVsRmxhZyIsImFwcFN0b3JlIiwidXNlQXBwU3RvcmVXaXRoT3V0Iiwid3NDYWNoZSIsInVzZUNhY2hlIiwibXlVc2VySWQiLCJnZXRVc2VySW5mbyIsIm90aGVycyIsInJlZ2lzdGVyIiwidGFibGVPYmplY3QiLCJtZXRob2RzIiwidXNlVGFibGUiLCJnZXRMaXN0QXBpIiwiZGVsTGlzdEFwaSIsInJlc3BvbnNlIiwibGlzdCIsInRvdGFsIiwiZ2V0TGlzdCIsInNldFNlYXJjaFBhcmFtcyIsInQiLCJ1c2VJMThuIiwicGx1cyIsInVzZUljb24iLCJpY29uIiwiY2hhcnQiLCJlZGl0IiwiYWN0aW9uVHlwZSIsInJlZiIsIm15Q2F0ZUlkcyIsImNvbG9ycyIsImNydWRTY2hlbWFzIiwicmVhY3RpdmUiLCJmaWVsZCIsImxhYmVsIiwidHlwZSIsInNlYXJjaCIsInNob3ciLCJmb3JtIiwiY29tcG9uZW50UHJvcHMiLCJyZWFkb25seSIsIm9uQ2hhbmdlIiwiY29kZSIsImdldFN0b2NrQnlDb2RlIiwiY2F0Y2giLCJmaW5hbGx5IiwibG9hZGluZyIsInZhbHVlIiwibXlDYXRlcyIsImxlbmd0aCIsImN1cnJlbnRSb3ciLCJjYXRlMzMiLCJuYW1lIiwiY29sUHJvcHMiLCJzcGFuIiwiZGV0YWlsIiwidGFibGUiLCJjb21wb25lbnQiLCJvcHRpb25zIiwiZm9ybWF0dGVyIiwiXyIsIl9fIiwiY2VsbFZhbHVlIiwiaCIsIkVsVGFnIiwiZGlzYWJsZWQiLCJlZmZlY3QiLCJyb3VuZCIsInJvd3MiLCJ3aWR0aCIsImdldENhdGVzIiwiZ2V0Q2F0ZXNCeVVzZXJJZCIsImkiLCJwdXNoIiwibXlDYXRlc09mY29kZSIsImdldENhdGVzQnlDb2RlIiwidXNlcklkMiIsImdldENhdGVzQnlVc2VySWRDb2RlIiwiY2F0ZWdvcnlfaWRzIiwiYWxsU2NoZW1hcyIsInVzZUNydWRTY2hlbWFzIiwiZGlhbG9nVmlzaWJsZSIsImRpYWxvZ1RpdGxlIiwiZGVsTG9hZGluZyIsImRlbERhdGEiLCJyb3ciLCJtdWx0aXBsZSIsImRlbEZsYWcyIiwiZGVsTGlzdCIsImdldFNlbGVjdGlvbnMiLCJzZWxlY3Rpb25zIiwiRWxNZXNzYWdlQm94IiwiY29uZmlybSIsImNvbmZpcm1CdXR0b25UZXh0IiwiY2FuY2VsQnV0dG9uVGV4dCIsInRoZW4iLCJybWZTdG9ja0xpc3RBcGkiLCJtYXAiLCJ2IiwiX2EyIiwiX2EiLCJyZWNEYXRhIiwicmVjU3RvY2tMaXN0QXBpIiwid3JpdGVSZWYiLCJzYXZlIiwid3JpdGUiLCJ1bnJlZiIsImVsRm9ybVJlZiIsInZhbGlkYXRlIiwiaXNWYWxpZCIsImdldEZvcm1EYXRhIiwidXNlcl9pZCIsIm5ld0NhdGVOYW1lIiwiRWxNZXNzYWdlIiwid2FybmluZyIsImNhdGVnb3J5X2lkIiwic2F2ZVN0b2NrQXBpIiwiY3VycmVudFBhZ2UiLCJOYU4iLCJwYXR0ZXJuIiwibWFya2V0IiwicmVtYXJrIiwiY3JlYXRlZF9hdCIsInNjb3JlIiwiY2F0ZU5hbWUiLCJ3aW5kb3ciLCJvcGVuIl0sIm1hcHBpbmdzIjoiMHNEQUlBLE1BQU1BLEVBQVVDLElBRUhDLEVBQWtCQyxNQUFPQyxJQUU5QixNQUFBQyxRQUFZTCxFQUFRTSxJQUFJLENBQUVDLElBQUssZUFBaUJILEVB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
